//Copyright (c) 2011. Adobe Systems Incorporated.
// All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions are met:
//
//   * Redistributions of source code must retain the above copyright notice,
//     this list of conditions and the following disclaimer.
//   * Redistributions in binary form must reproduce the above copyright notice,
//     this list of conditions and the following disclaimer in the documentation
//     and/or other materials provided with the distribution.
//   * Neither the name of Adobe Systems Incorporated nor the names of its
//     contributors may be used to endorse or promote products derived from this
//     software without specific prior written permission.
//
// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
// POSSIBILITY OF SUCH DAMAGE.
//
// AdobePatentID="B1316"
// AdobePatentID="B1317"
// AdobePatentID="B1318"
//
// edge.0.1.4.min.js - version 0.1.4
 
(function(d){window.AdobeEdge=window.AdobeEdge||{};if(typeof d.Edge==="undefined")d.Edge=window.AdobeEdge;var b=d.Edge;b.version="0.1.3";b.cloneJSONObject=function(p){var l,j;if(d.isArray(p)){l=[];var k,m=p.length;for(k=0;k<m;k++)j=p[k],l[k]=typeof j==="object"?b.cloneJSONObject(j):j}else for(k in l={},p)k!="prototype"&&(j=p[k],l[k]=typeof j==="object"?b.cloneJSONObject(j):j);return l};b.Notifier=function(){this.observers=[];this.notificationLevel=this.suppressNotifications=0};d.extend(b.Notifier.prototype,
{addObserver:function(b){if(b){for(var d=this.observers.length,j=0;j<d;j++)if(this.observers[j].observer==b)return;this.observers[d]={observer:b}}},removeObserver:function(b){if(b)for(var d=0;d<this.observers.length;d++)if(this.observers[d].observer==b)if(this.notificationLevel===0){this.observers.splice(d,1);break}else this.observers[d].deleted=!0},notifyObservers:function(b,d){if(b&&!this.suppressNotifications){d||(d={});d.methodName=b;this.notificationLevel++;var j;for(j=0;j<this.observers.length;j++){var k=
this.observers[j];if(k=k&&!k.deleted?k.observer:void 0)if(typeof k=="function")k(b,this,d);else if(k[b])k[b](this,d)}this.notificationLevel--;if(this.notificationLevel===0)for(j=this.observers.length-1;j>=0;j--)this.observers[j].deleted&&this.observers.splice(j,1)}},enableNotifications:function(){if(--this.suppressNotifications<0)this.suppressNotifications=0,b.Debug.reportError("Unbalanced enableNotifications() call!\n")},disableNotifications:function(){++this.suppressNotifications}});b.trimString=
function(b){return b.replace(/^\s+|\s+$/g,"")};var n={log:function(){},trace:function(){}};if(typeof window.console=="undefined")window.console=n})(jQuery);(function(d,b){function n(){b.Notifier.call(this);this.animationID="animID-"+n.nextID++}function p(d,j,l){b.Animation.call(this);if(typeof d=="function")this.handler=d;else if(typeof d=="string")this.eventType=d;this.handlerContext=l;this.data=j;this.isTrigger=!0}function l(j,k,t,m){b.Notifier.call(this);this.animation=j;this.position=0;this.duration=-1;this.easing=typeof m=="function"?m:m&&d.easing[m]?m:l.defaultEasing;if(k!==void 0)this.position=k;if(t!==void 0)this.duration=t;this.timeline=null;
this.dScale=1;this.dDuration=0;this.done=!1}function j(b){this.parameters={};b&&d.extend(this,b)}function k(j){b.Animation.call(this);d.extend(this,b.Timeline.config);d.extend(this,j);this.startPosition=this.timerStart=this.timer=0;this.currentPosition=-1;this.playing=!1;this.duration=0;this.interval=1E3/this.fps;this.objects=[]}var m={};n.nextID=1;d.extend(n.prototype,b.Notifier.prototype,{constructor:n,_setup:function(){},_update:function(){},getDuration:function(){return 0}});d.extend(p.prototype,
n.prototype,{constructor:p,_update:function(b){if(!this.fired)this.fired=!0,this.handler?this.handler.call(this.handlerContext,b,this.data):this.eventType&&this.timeline&&this.timeline.notifyObservers(this.eventType,{elapsed:b,data:this.data})},setup:function(b,d){this.fired=d.startingFromCurrent?d.playDirection!="reverse"?b.currentPosition>=d.position:b.currentPosition<=d.position:d.playDirection!="reverse"?b.currentPosition>d.position:b.currentPosition<d.position;this.timeline=b}});l.defaultEasing=
"linear";d.extend(l.prototype,b.Notifier.prototype,{constructor:l,_setup:function(b,d){this.timeline=b;var j=this.duration,l=null;this.animation&&this.animation.getDuration&&(l=this.animation.getDuration());this.dScale=j!=-1&&j!==0?l/j:1;this.dDuration=j!=-1?j:l;this.done=!1;if(this.animation&&this.animation.setup)d.position=this.position,this.animation.setup(b,d)},_update:function(b,j){if(!this.done){var l=b,k=this.dDuration;if(this.animation){var g;k===0?g=l>=0?1:0:(l>=k&&(l=k),l<=0&&(l=0),g=d.easing[this.easing](l/
k,l,0,1,k));this.animation.update(l*this.dScale,g,j)}(j.playDirection=="reverse"?l<=0:l>=k)&&this.complete()}},complete:function(){this.done=!0;this.timeline&&this.timeline._updateComplete(this)},getPosition:function(){return this.position},setPosition:function(b){this.position=b},getDuration:function(){return this.duration!=-1?this.duration:this.animation&&this.animation.getDuration?this.animation.getDuration():0},setDuration:function(b){this.duration=b>=0?b:-1}});k.config={dropFrames:!0,fps:60};
var v=[];k.tick=function(){var b=v.slice(0);v=[];for(var d=b.length,j=(new Date).getTime(),l=0;l<d;l++)b[l].call(null,j)};d.extend(k.prototype,n.prototype,{constructor:k,play:function(b){this.notifyObservers("play");this.sort();this.playing=!0;if(this.context)this.context.playDirection=void 0;var d=this.getContext(b);d.timeline=this;b!==void 0&&typeof b.startPos==="number"&&this.currentPosition!=b.startPos?this.currentPosition=b.startPos:d.startingFromCurrent=!0;this._setup(this,d);this.timerStart=
(new Date).getTime();this.startPosition=this.currentPosition;var j=this,l;l=d.externalClock?function(b){j._handleTimer(d,l,b)}:function(){j._handleTimer(d,l)};d.firstUpdate=!0;this._handleTimer(d,l);d.firstUpdate=!1},stop:function(b){b&&b.dontNotify||this.notifyObservers("stop");this.timer&&clearTimeout(this.timer);this.timerStart=this.timer=0;this.playing=!1},seek:function(b,d){this.notifyObservers("seek");this.sort();this.stop();var j=this.currentPosition;if(typeof b==="number")this.currentPosition=
b;var l=this.getContext(d);l.timeline=this;if(j==this.currentPosition)l.startingFromCurrent=!0;this._setup(this,l);l.firstUpdate=!0;this._updateSeek(this.currentPosition,1,l,j);l.firstUpdate=!1},add:function(b,d,j,k){this.objects.push(new l(b,d,j,k));this.sorted=!1},sort:function(){if(!this.sorted)this.objects.sort(function(b,d){return b.position-d.position}),this.sorted=!0},getDuration:function(){for(var b=0,d=this.objects,j=this.objects.length,l=Math.max,g=0;g<j;g++)var f=d[g],b=l(b,f.position+
f.getDuration());return b},getCurrentPosition:function(){return this.currentPosition},getContext:function(b){this.context?d.extend(this.context,b):this.context=new j(b);return this.context},_update:function(b,d,j){this.sort();this.currentContext=j;this.notifyObservers("preUpdate",{elapsed:b,easingConst:d});var l=this.objects,g=this.triggers,f=l.length,a=g.length,c=j.playDirection!="reverse";this.currentDirection=c?"forward":"reverse";for(var h=!1,e=!0,o=0;o<a;o++){var s=g[c?o:a-o-1];if(s.animation.isTrigger&&
(!j.startingFromCurrent||!j.firstUpdate)&&!s.animation.fired&&(c?b>=s.position:b<=s.position+s.duration)){for(var u=this.currentPosition=s.position,k=this._getState(),h=0;h<f;h++){var x=l[c?h:f-h-1];!x.animation.isTrigger&&(c?u>=x.position:u<=x.position+x.duration)&&x._update(u-x.position,j)}h=!0;s.animation._update(u,j);if(!this._equalState(k)){e=!1;break}}}if(!h)for(h=0;h<f;h++)x=l[c?h:f-h-1],!x.animation.isTrigger&&(c?b>=x.position:b<=x.position+x.duration)&&x._update(b-x.position,j);this.notifyObservers("postUpdate",
{elapsed:b,easingConst:d,context:j});this.notifyObservers("update",{elapsed:b,easingConst:d});this.currentContext=null;return e},_getState:function(){return{pos:this.currentPosition,dir:this.context.playDirection,playing:this.playing}},_equalState:function(b){return b.pos==this.currentPosition&&b.dir==this.context.playDirection&&!b.playing==!this.playing},_handleTimer:function(b,d,j){j=j||(new Date).getTime();j-=this.timerStart;var l=b.playDirection=="reverse",l=this.startPosition+(l?-j:j);if(this.playing){this.currentPosition=
l=Math.max(0,Math.min(l,this.duration));var g=this._update(l,1,b),l=b.playDirection=="reverse";if(!l?this.currentPosition<this.duration:this.currentPosition>0){if(g&&this.playing)b.externalClock?v.push(d):this.timer=setTimeout(d,this.interval)}else this.stop(),this.notifyObservers("complete",{elapsed:j})}},_setup:function(d,j){b.Animation.prototype._setup.call(this,d);this.triggers=[];for(var l=this.objects,k=this.objects.length,g=0;g<k;g++){var f=l[g];f._done=!1;f._setup(this,j);f.animation.isTrigger&&
this.triggers.push(f)}this.duration=this.getDuration()},_updateComplete:function(b){b._done=!0}});k.prototype._updateSeek=k.prototype._update;b.Animation=n;b.TimelineObject=l;b.Timeline=k;b.Timeline.createTimeline=function(d){return new b.Timeline(d)};b.Timeline.createTween=function(b){var d=m[b];if(d)return d.func.apply(d.context,Array.prototype.slice.call(arguments,1));return null};b.Timeline.addTweenType=function(b,d,j){m[b]={func:d,context:j}};b.Timeline.createTrigger=function(b,d){return new p(b,
d,arguments[arguments.length-1])};b.Timeline.createTimelineFromData=function(d){for(var j=jQuery.Edge.Timeline.createTimeline(),l=d.length,k=0;k<l;k++){var g=d[k],f=null;g.timeline?f=b.Timeline.createTimelineFromData(g.timeline):g.tween?f=b.Timeline.createTween.apply(null,g.tween):g.trigger&&(f=g.trigger.slice(0,2),f.push(this),f=b.Timeline.createTrigger.apply(null,f));f&&j.add(f,g.position,g.duration,g.easing)}return j}})(jQuery,jQuery.Edge);(function(d,b){function n(l,j,k,m,n){b.Animation.call(this);this.name="prop tween";this.sourceElements=this.elements=j;this.deferElementResolution=!0;this.tweenType=p[l];this.updateTriggered=!1;this.property=k;this.fromValue=void 0;this.toValue=m;this.duration=1E3;this.fromValues=this.tokens=this.valueTemplate=null;n&&d.extend(this,n);this.deferElementResolution=this.deferElementResolution||typeof j=="string"&&j.search(/\$\{[^\{\}]+\}/)!=-1;if(!this.deferElementResolution)this.elements=this.resolveElementSelector(j);
var n=this.toValues=[],q=this.parseValue(m);d.isArray(m)||(m=[m]);if(!q||q.length===0)q=m;j=q.length;for(l=0;l<j;l++){var k=q[l],r={};if(typeof k=="string"){if(r.value=parseFloat(k.replace(/[a-zA-Z%]+$/,"")),r.unit=k.replace(/^-?[0-9]*(\.[0-9]+)?/,""),isNaN(r.value))r.value=k,r.unit=""}else typeof k=="number"&&(k=parseFloat(k)),r.value=k,r.unit="";n.push(r)}m.length>1&&!this.valueTemplate&&alert("Multiple values specified for attribute tween, but no template was provided!");m.length>1&&(!this.fromValue||
!d.isArray(this.fromValue))&&alert("Multiple values specified for attribute tween, but no from values specified!");if(this.fromValue){m=this.fromValues=[];if((l=this.parseValue(this.fromValue))&&l.length>0)this.fromValue=l;else if(!d.isArray(this.fromValue))this.fromValue=[this.fromValue];j=this.fromValue.length;for(l=0;l<j;l++)k=this.fromValue[l],typeof k=="string"?(m[l]=parseFloat(k.replace(/[a-zA-Z%]+$/,"")),isNaN(m[l])&&(m[l]=k)):(typeof k=="number"&&(k=parseFloat(k)),m[l]=k);this.toValues.length!=
this.fromValues.length&&alert("Number of 'from' and 'to' values does not match for "+this.tweenType+" tween.")}if(this.filter){if(!d.isArray(this.filter))this.filter=[this.filter];m=this.filter;j=m.length;for(l=0;l<j;l++)typeof m[l]=="string"&&(m[l]=Math[m[l]]),typeof m[l]!="function"&&(m[l]=null)}if(this.valueTemplate)this.tokens=this.parseTemplate(this.valueTemplate)}var p={style:0,attribute:1,property:2};n.Token=function(b,d){this.value=b;this.isPlaceholder=d};n.substituteParameters=function(d,
j){for(var k=d;j&&typeof k=="string"&&k.search(/\$\{/)!=-1;){var m=k.search(/\$\{/),n=k.search(/\}/);(m=k.slice(m+2,n))||alert("Invalid parameter name: "+m);typeof m=="string"&&(m=b.trimString(m),m=m.replace(/[\"\']/g,""));k=typeof j[m]=="undefined"?void 0:k.replace(/\$\{[^\}]*\}/,j[m])}return k};d.extend(n.prototype,b.Animation.prototype,{constructor:n,setup:function(){this.updateTriggered=!1},update:function(b,d,k){var m=this.getElementSet(k);if(!this.updateTriggered)this.updateTriggered=!0,this.setupForAnimation(k);
var n=this,p=this.tweenType,r=this.property,t;m.each(function(){var k=n.getPropertyTweenData(this,p,r);if(k.animationID==n.animationID){var g=k.fromValues,f=k.toValues,k=k.tokens,a=n.filter,c=g.length,h=[];for(t=0;t<c;t++){var e=g[t],o=f[t],e=typeof e=="string"?d==0?e:o.value:e+(o.value-e)*d;a&&a[t]&&(e=a[t](e));h.push(e+o.unit)}g="";g=n.formatValue(h);if(!(g.length>0))if(k){g=k.length;f=[];for(t=0;t<g;t++)a=k[t],a.isPlaceholder?f.push(h[a.value]):f.push(a.value);g=f.join("")}else g=h.join("");n.setValue.call(this,
p,r,g);n.notifyObservers("onUpdate",{elapsed:b,easingConst:d,property:r,value:g,element:this})}})},setValue:function(b,j,k){switch(b){case 0:d(this).css(j,k);break;case 1:this.setAttribute(j,k);break;case 2:this[j]=k}},getDuration:function(){return this.duration},resolveElementSelector:function(b){b=n.substituteParameters(this.elements,b.parameters);if(!b)b=this.elements;return d(b)},getElementSet:function(b){var d=this.animationID;if(!b.animData)b.animData={};var k=b.animData[d];k||(k=b.animData[d]=
this.deferElementResolution?this.resolveElementSelector(b):this.elements);return k},getValue:function(b,j){var k;switch(j){case 0:k=d(this).css(b);break;case 1:k=this.getAttribute(b);break;case 2:k=this[b]+""}return k},setupForAnimation:function(b){var d=this,k=this.tweenType,m=this.property;this.getElementSet(b).each(function(){var b=d.getPropertyTweenData(this,k,m);b.animationID=d.animationID;b.toValues=d.toValues;b.tokens=d.tokens;if(d.fromValues)b.fromValues=d.fromValues;else{var l=d.getValue.call(this,
m,k);l===void 0&&(l="0");var n=d.parseValue(l);if(n&&n.length>0)for(var b=b.fromValues=[],l=n.length,p=0;p<l;p++){var w=n[p];b[p]=typeof w=="string"?parseFloat(w.replace(/[a-zA-Z%]+$/,"")):w;isNaN(b[p])&&(b[p]=w)}else b.fromValues=[parseFloat(l.replace(/[a-zA-Z%]+$/,""))]}})},parseTemplate:function(b){for(var d=b.length,k=[],m=0,p=/@@[0-9]+@@/g,q=null;m<d&&(q=p.exec(b));)q.index!=m&&k.push(new n.Token(b.substring(m,q.index),!1)),k.push(new n.Token(parseInt(q[0].replace(/@@/g,""),10),!0)),m=p.lastIndex;
m<d&&k.push(new n.Token(b.substring(m,d),!1));return k},parseValue:function(){return[]},formatValue:function(){return""},getPropertyTweenData:function(b,j,k){var m=d.data(b,"tweenData");m||(m={},d.data(b,"tweenData",m));(b=m[j])||(b=m[j]={});(j=b[k])||(j=b[k]={animationID:-1});return j}});b.PropertyTween=n;b.Timeline.addTweenType("style",function(b,d,k,m){return new n("style",b,d,k,m)});b.Timeline.addTweenType("attribute",function(b,d,k,m){return new n("attribute",b,d,k,m)});b.Timeline.addTweenType("property",
function(b,d,k,m){return new n("property",b,d,k,m)})})(jQuery,jQuery.Edge);(function(d,b,n){function p(c,a,h,e,d){b.PropertyTween.call(this,c,a,h,e,d);this.name="transformTween"}var l,j,k=Math.asin,m=Math.sin,v=Math.cos,q=Math.tan,r=Math.atan2,t=Math.PI/180,w=180/Math.PI;p.removeData=function(c){var a=d.data(c,p.dataName);a&&(a.timeline&&l.unRegister(a.timeline,a.id),$ele.removeData(c,p.dataName))};var g=function(c){var a=0;typeof c=="string"?a=parseFloat(c.replace(/[a-zA-Z%]+$/,"")):typeof c=="number"&&(a=c);return a};p.getNumber=g;p.applyTransform=function(c,a,h,b){var c=
d(c),e="webkitAppearance"in document.documentElement.style,o=!0;b&&(o=!b.dontForceZ);if(e){b="translate("+a.translateX+","+a.translateY+")";e=g(a.translateZ);if(e!==0||o)b+=" translateZ("+a.translateZ+")";b+=" rotate("+a.rotateZ+") ";e=g(a.rotateY);e!==0&&(b+=" rotateY("+a.rotateY+")");e=g(a.rotateX);e!==0&&(b+=" rotateX("+a.rotateX+")");b+=" skew("+a.skewX+","+a.skewY+") scale("+a.scaleX+","+a.scaleY+") ";e=g(a.scaleZ);e!=1&&(b+=" scaleZ("+a.scaleZ+")");a="-webkit-transform";c.css(a,b);h&&h.observers.length&&
h.notifyObservers("onUpdate",{elapsed:0,easingConst:0,property:a,value:b,element:c[0]})}else h=g(a.rotateY),b=g(a.rotateX),h=a.scaleX*v(t*h),o=a.scaleY*v(t*b),b="translate("+a.translateX+","+a.translateY+")",b+=" rotate("+a.rotateZ+")",b+=" skew("+a.skewX+", "+a.skewY+")",b+=" scale("+h+","+o+")",c.css("-moz-transform",b),c.css("-o-transform",b),c.css("-ms-transform",b),c.css("msTransform",b)};var f=function(c){if(c!==0&&Math.abs(c)<1.0E-6)return c.toFixed(6);return c.toString()};p.dataName="EdgeTransformData";
var a=1;d.extend(p.prototype,n.prototype,{constructor:p,setup:function(){this.updateTriggered=!1},setValue:function(c,a,h){d.data(this,p.dataName)[a]=h},getValue:function(){d.data(this,p.dataName)},setupForAnimation:function(c){var a=this;this.getElementSet(c).each(function(){var c=d.data(this,p.dataName);c||(c=a.buildTransformData(this),d.data(this,p.dataName,c))});n.prototype.setupForAnimation.call(this,c)},update:function(c,a,h){n.prototype.update.call(this,c,a,h);var b=this,e=this.property,o=
this.tweenType;this.getElementSet(h).each(function(){if(b.getPropertyTweenData(this,o,e).animationID==b.animationID){var c=d.data(this,p.dataName);c.timeline=h.timeline;c.tween=b;l.Register(h.timeline,c.id,c)}})},buildTransformData:function(c){var h=b.parseCanonicalTransform(c);if(h===null){var h={},e=b.getTransformProps(c);h.translateX="0px";h.translateY="0px";h.translateZ="0px";h.scaleX=1;h.scaleY=1;h.scaleZ=1;h.rotateX="0deg";h.rotateY="0deg";h.rotateZ="0deg";h.skewXZ=0;h.skewXY=0;h.skewYZ=0;h.skewX=
"0deg";h.skewY="0deg";h.matrix&&delete h.matrix;if(e)h.translateX=f(e.translation[0])+"px",h.translateY=f(e.translation[1])+"px",h.translateZ=f(e.translation[2])+"px",h.scaleX=f(e.scale[0]),h.scaleY=f(e.scale[1]),h.scaleZ=f(e.scale[2]),h.rotateX=f(e.rotation[0]*w)+"deg",h.rotateY=f(e.rotation[1]*w)+"deg",h.rotateZ=f(e.rotation[2]*w)+"deg",h.skewXY=e.skew[0],h.skewXZ=e.skew[1],h.skewYZ=e.skew[2],h.skewX=f(Math.atan(e.skew[0])*w)+"deg"}h===null&&(h={});h.id="transform_"+a++;h.element=c;h.onFinalUpdate=
l.prototype._applyTransform;return h},buildDefaultTransformData:function(c){data={translateX:"0px",translateY:"0px",translateZ:"0px",scaleX:1,scaleY:1,scaleZ:1,rotateX:"0deg",rotateY:"0deg",rotateZ:"0deg",skewXZ:0,skewXY:0,skewYZ:0,skewX:"0deg",skewY:"0deg"};data.id="transform_"+a++;data.element=c;data.onFinalUpdate=l.prototype._applyTransform;return data}});var c={translate3d:0,translate:0,translateX:0,translateY:0,translateZ:0,rotate:1,rotateZ:1,rotateX:1,rotateY:1,rotate3d:1,skew:2,skewX:2,skewY:2,
scale3d:3,scale:3,scaleX:3,scaleY:3,scaleZ:3,perspective:4};b.getTransformProps=function(c,a){var h=typeof a=="string"?a:b.getTransform(c),e="webkitAppearance"in document.documentElement.style;if(h&&h!="none"&&e)e=new b.CSSMatrix,e.setMatrixValue(h),h=j.fromCSSMatrix(e);else if(h&&h!="none")h=j.fromCSSMatrixString(h);else return;return b.decomposeTransform(h)};b.getTransform=function(c){var a="webkitAppearance"in document.documentElement.style,c=d(c),h=c[0].style,b;if(a)(b=c.get(0).style.webkitTransform)||
(b=c.css("-webkit-transform"));if(b)return b;(b=c.get(0).style.msTransform)||(b=c.css("-ms-transform"));b||(b=c.css("msTransform"));if(!b)b=h.MozTransform;b||(b=h["-moz-transform"]);b||(b=c.css("-moz-transform"));if(!b)b=h.oTransform;b||(b=c.css("-o-transform"));if(!b)b=h.transform;b||(b=c.css("transform"));return b||""};b.parseCanonicalTransform=function(a,h){var e=(typeof h=="string"?h:b.getTransform(a)).match(/(\w+\s*\([^\)]*\))/g);if(!e)return null;var d={},o={translateX:"0px",translateY:"0px",
translateZ:"0px",scaleX:1,scaleY:1,scaleZ:1,rotateX:"0deg",rotateY:"0deg",rotateZ:"0deg",skewXZ:0,skewXY:0,skewYZ:0,skewX:"0deg",skewY:"0deg"},s;for(s=0;s<e.length;s++){var f=e[s].match(/\w+/);if(d[f[0]]||c[f[0]]<0)return null;var g=e[s].match(/\([^\)]*\)/),g=g[0].replace(/[\(\)]/g,""),g=g.split(",");switch(f[0]){case "matrix":return null;case "translate3d":o.translateX=g[0];o.translateY=g.length>1?g[1]:"0px";o.translateZ=g.length>2?g[2]:"0px";d.translate3d=d.translate=d.translateX=d.translateY=d.translateZ=
!0;break;case "translate":o.translateX=g[0];o.translateY=g.length>1?g[1]:"0px";d.translate3d=d.translate=d.translateX=d.translateY=!0;break;case "translateX":o.translateX=g[0];d.translate3d=d.translate=d.translateX=!0;break;case "translateY":o.translateY=g[0];d.translate3d=d.translate=d.translateY=!0;break;case "translateZ":o.translateZ=g[0];d.translate3d=d.translateZ=!0;break;case "rotate3d":return d.rotate3d=d.rotate=d.rotateX=d.rotateY=d.rotateZ=!0,null;case "rotateX":o.rotateX=g[0];d.rotate3d=
d.rotateX=!0;break;case "rotateY":o.rotateY=g[0];d.rotate3d=d.rotateY=!0;break;case "rotateZ":case "rotate":o.rotateZ=g[0];d.rotate3d=d.rotate=d.rotateZ=!0;break;case "skew":o.skewX=g[0];o.skewY=g.length>1?g[1]:"0px";d.skew=d.skewX=d.skewY=!0;break;case "skewX":o.skewX=g[0];d.skew=d.skewX=!0;break;case "skewY":o.skewY=g[0];d.skew=d.skewY=!0;break;case "scale3d":o.scaleX=g[0];o.scaleY=g.length>1?g[1]:"0px";o.scaleZ=g.length>2?g[2]:"0px";d.scale3d=d.scale=d.scaleX=d.scaleY=d.scaleZ=!0;break;case "scale":o.scaleX=
g[0];o.scaleY=g.length>1?g[1]:"0px";d.scale=d.scaleX=d.scaleY=!0;break;case "scaleX":o.scaleX=g[0];d.scale3d=d.scale=d.scaleX=!0;break;case "scaleY":o.scaleY=g[0];d.scale3d=d.scale=d.scaleY=!0;break;case "scaleZ":o.scaleZ=g[0];d.scale3d=d.scaleZ=!0;break;case "perspective":d.perspective=!0}}return o};b.TransformTween=p;l=function(c){this.handlers={};this.timeline=c};l.Register=function(c,a,h){var b=c.updateFinalizer;if(typeof b=="undefined")b=new l(c),c.updateFinalizer=b,c.addObserver(b);b.handlers[a]=
h};l.unRegister=function(c,a){var h=c.updateFinalizer;typeof h!="undefined"&&delete h.handlers[a]};d.extend(l.prototype,{_finalizeUpdate:function(c,a){var h={elapsed:c,context:a},b;for(b in this.handlers)if(this.handlers.hasOwnProperty(b)){var e=this.handlers[b];if(e.onFinalUpdate)e.onFinalUpdate(h)}},postUpdate:function(c,a){this._finalizeUpdate(a.elapsed,a.context)},complete:function(){this.timeline&&this.timeline.removeObserver(this);this.timeline.updateFinalizer=void 0},_applyTransform:function(c){var a=
d.data(this.element,p.dataName);a&&c&&p.applyTransform(this.element,a,a.tween,c.context)}});p.UpdateFinalizer=l;if(typeof CSSMatrix=="undefined")if(typeof WebKitCSSMatrix!="undefined")b.CSSMatrix=WebKitCSSMatrix;else{if(typeof MozCSSMatrix!="undefined")b.CSSMatrix=MozCSSMatrix}else b.CSSMatrix=CSSMatrix;var h=function(c,a){for(var h=0,b=c.length,e=0;e<b;e++)h+=c[e]*a[e];return h},e=function(c){for(var a=0,h=c.length,b=0;b<h;b++)a+=c[b]*c[b];return Math.sqrt(a)},o=function(c){var a=c.length,h=e(c),
b=Array(a);h===0&&(h=1);for(var d=0;d<a;d++)b[d]=c[d]/h;return b},s=function(c,a,h,b){var e=Array(3);e[0]=h*c[0]+b*a[0];e[1]=h*c[1]+b*a[1];e[2]=h*c[2]+b*a[2];return e};j=function(c){var a,h;if(c)for(a=0;a<4;a++){this[a]=Array(4);for(h=0;h<4;h++)this[a][h]=c[a][h]}else for(a=0;a<4;a++){this[a]=Array(4);for(h=0;h<4;h++)this[a][h]=0;this[a][a]=1}this.size=4};j.fromCSSMatrix=function(c){var a=new j;a[0][0]=c.m11;a[0][1]=c.m12;a[0][2]=c.m13;a[0][3]=c.m14;a[1][0]=c.m21;a[1][1]=c.m22;a[1][2]=c.m23;a[1][3]=
c.m24;a[2][0]=c.m31;a[2][1]=c.m32;a[2][2]=c.m33;a[2][3]=c.m34;a[3][0]=c.m41;a[3][1]=c.m42;a[3][2]=c.m43;a[3][3]=c.m44;return a};var u=function(c){var a={};a.num=parseFloat(c);a.units=c.match(/\w+$/);if(typeof a.unit=="array")a.units=a.units[0];return a},y=function(c){c=c.toLowerCase();if(typeof c!="string")return 0;c=u(c);c.units=="deg"&&(c.num*=t);return c.num};j.fromCSSMatrixString=function(c){var a=new j,c=c.match(/(\w+\s*\([^\)]*\))/g);if(typeof c=="undefined"||c===null)return a;var h;for(h=0;h<
c.length;h++){var b=c[h].match(/\w+/),e=c[h].match(/\([^\)]*\)/),e=e[0].replace(/[\(\)]/g,""),e=e.split(","),d,o;switch(b[0]){case "matrix":b=new j;e.length==6&&(b[0][0]=parseFloat(e[0]),b[0][1]=parseFloat(e[1]),b[1][0]=parseFloat(e[2]),b[1][1]=parseFloat(e[3]),b[3][0]=parseFloat(e[4]),b[3][1]=parseFloat(e[5]),a.preMultiplyBy(b));break;case "translate3d":b=u(e[0]).num;d=e.length>1?u(e[1]).num:0;o=e.length>2?u(e[2]).num:0;a.translate3d(b,d,o);break;case "translate":b=u(e[0]).num;d=e.length>1?u(e[1]).num:
0;a.translate3d(b,d,0);break;case "translateX":e=u(e[0]).num;a.translate3d(e,0,0);break;case "translateY":e=u(e[0]).num;a.translate3d(0,e,0);break;case "translateZ":e=u(e[0]).num;a.translate3d(0,0,e);break;case "rotate3d":if(e.length>=3)b=u(e[0]).num,d=u(e[1]).num,o=u(e[2]).num,e=y(e[3]),a.rotate3d(b,d,o,e,!0);break;case "rotateX":e=y(e[0]);a.rotateX(e);break;case "rotateY":e=y(e[0]);a.rotateY(e);break;case "rotateZ":case "rotate":e=y(e[0]);a.rotateZ(e);break;case "skew":b=y(e[0]);e=y(e[1]);a.skew(b,
e);break;case "skewX":e=y(e[0]);a.skew(e,0);break;case "skewY":e=y(e[0]);a.skew(0,e);break;case "scale3d":b=parseFloat(e[0]);d=e.length>1?parseFloat(e[1]):1;e=e.length>2?parseFloat(e[2]):1;a.scale(b,d,e);break;case "scale":b=parseFloat(e[0]);d=e.length>1?parseFloat(e[1]):1;a.scale(b,d,1);break;case "scaleX":e=parseFloat(e[0]);a.scale(e,1,1);break;case "scaleY":e=parseFloat(e[0]);a.scale(1,e,1);break;case "scaleZ":e=parseFloat(e[0]);a.scale(1,1,e);break;case "perspective":e=parseFloat(e[0]),a.perspective(e)}}return a};
d.extend(j.prototype,{identity:function(){for(var c=0;c<4;c++){this[c]=Array(4);for(var a=0;a<4;a++)this[c][a]=0;this[c][c]=1}return this},determinant:function(){var c=this[0][0],a=this[0][1],h=this[0][2],e=this[0][3],b=this[1][0],d=this[1][1],o=this[1][2],g=this[1][3],s=this[2][0],f=this[2][1],j=this[2][2],u=this[2][3],k=this[3][0],l=this[3][1],y=this[3][2],m=this[3][3];return e*o*f*k-h*g*f*k-e*d*j*k+a*g*j*k+h*d*u*k-a*o*u*k-e*o*s*l+h*g*s*l+e*b*j*l-c*g*j*l-h*b*u*l+c*o*u*l+e*d*s*y-a*g*s*y-e*b*f*y+
c*g*f*y+a*b*u*y-c*d*u*y-h*d*s*m+a*o*s*m+h*b*f*m-c*o*f*m-a*b*j*m+c*d*j*m},normalizeTransform:function(){if(this[3][3]===0)return!1;for(var c=0;c<4;c++)for(var a=0;a<4;a++)this[c][a]/=this[3][3];return!0},transpose:function(){for(var c=new j,a=0;a<4;a++)for(var h=0;h<4;h++)c[a][h]=this[h][a];return c},toCSSMatrix:function(){var c=new b.CSSMatrix;c.m11=this[0][0];c.m12=this[0][1];c.m13=this[0][2];c.m14=this[0][3];c.m21=this[1][0];c.m22=this[1][1];c.m23=this[1][2];c.m24=this[1][3];c.m31=this[2][0];c.m32=
this[2][1];c.m33=this[2][2];c.m34=this[2][3];c.m41=this[3][0];c.m42=this[3][1];c.m43=this[3][2];c.m44=this[3][3];return c},_inverse:function(){return this},inverse:function(){if(b.CSSMatrix!==void 0){var c=this.toCSSMatrix().inverse();return j.fromCSSMatrix(c)}return this._inverse()},rotate3d:function(c,a,h,e,d){var o=new b.Matrix4x4;d||(e*=t);e&&(d=Math.sqrt(c*c+a*a+h*h),d!==0&&(c/=d,a/=d,h/=d,d=m(e),e=v(e),o[0][0]=1+(1-e)*(c*c-1),o[1][0]=-h*d+(1-e)*c*a,o[2][0]=a*d+(1-e)*c*h,o[3][0]=0,o[0][1]=h*
d+(1-e)*c*a,o[1][1]=1+(1-e)*(a*a-1),o[2][1]=-c*d+(1-e)*a*h,o[3][1]=0,o[0][2]=-a*d+(1-e)*c*h,o[1][2]=c*d+(1-e)*a*h,o[2][2]=1+(1-e)*(h*h-1),o[3][2]=0,o[0][3]=0,o[1][3]=0,o[2][3]=0,o[3][3]=1));return this.preMultiplyBy(o)},rotateX:function(c){return this.rotate3d(1,0,0,c)},rotateY:function(c){return this.rotate3d(0,1,0,c)},rotateZ:function(c){return this.rotate3d(0,0,1,c)},translate3d:function(c,a,h){var e=new b.Matrix4x4;e[3][0]+=c;e[3][1]+=a;e[3][2]+=h;return this.preMultiplyBy(e)},scale:function(c,
a,h){if(c!=1||a!=1||h!=1){var e=new b.Matrix4x4;e[0][0]=c;e[1][1]=a;e[2][2]=h;return this.preMultiplyBy(e)}return this},skew:function(c,a,h){h||(c*=t,a*=t);c!==0&&(h=new b.Matrix4x4,h[1][0]=q(c),this.preMultiplyBy(h));a!==0&&(c=new b.Matrix4x4,c[0][1]=q(a),this.preMultiplyBy(c));return this},perspective:function(c){if(c!==0){var a=new b.Matrix4x4;a[2][3]=1/c;this.preMultiplyBy(a)}return this},skewByFactors:function(c,a,h){c=new b.Matrix4x4;c[2][1]=h;this.preMultiplyBy(c);c.identity();c[2][0]=h;this.preMultiplyBy(c);
c.identity();c[1][0]=h;this.preMultiplyBy(c);return this},applyPerspective:function(c,a,h,e){var d=new b.Matrix4x4;d[0][3]=c;d[1][3]=a;d[2][3]=h;d[3][3]=e;this.preMultiplyBy(d);return this},preMultiplyBy:function(c){var a=c[0][0],h=c[0][1],e=c[0][2],b=c[0][3],d=c[1][0],o=c[1][1],g=c[1][2],s=c[1][3],f=c[2][0],j=c[2][1],u=c[2][2],k=c[2][3],l=c[3][0],y=c[3][1],m=c[3][2],c=c[3][3],n=this[0][0],p=this[0][1],q=this[0][2],r=this[0][3],t=this[1][0],v=this[1][1],w=this[1][2],J=this[1][3],K=this[2][0],L=this[2][1],
M=this[2][2],N=this[2][3],O=this[3][0],P=this[3][1],Q=this[3][2],R=this[3][3];this[0][0]=a*n+h*t+e*K+b*O;this[0][1]=a*p+h*v+e*L+b*P;this[0][2]=a*q+h*w+e*M+b*Q;this[0][3]=a*r+h*J+e*N+b*R;this[1][0]=d*n+o*t+g*K+s*O;this[1][1]=d*p+o*v+g*L+s*P;this[1][2]=d*q+o*w+g*M+s*Q;this[1][3]=d*r+o*J+g*N+s*R;this[2][0]=f*n+j*t+u*K+k*O;this[2][1]=f*p+j*v+u*L+k*P;this[2][2]=f*q+j*w+u*M+k*Q;this[2][3]=f*r+j*J+u*N+k*R;this[3][0]=l*n+y*t+m*K+c*O;this[3][1]=l*p+y*v+m*L+c*P;this[3][2]=l*q+y*w+m*M+c*Q;this[3][3]=l*r+y*J+
m*N+c*R;return this}});b.Matrix4x4=j;b.decomposeTransform=function(c){var a={},b=new j(c);if(!b.normalizeTransform())return null;a=new j(c);for(c=0;c<3;c++)a[c][3]=0;a[3][3]=1;if(a.determinant(a)===0)return window.edge_authoring_mode&&alert("Bad perspective matrix"),null;var d=Array(4),c=Array(4);if(b[0][3]!==0||b[1][3]!==0||b[2][3]!==0){d[0]=b[0][3];d[1]=b[1][3];d[2]=b[2][3];d[3]=b[3][3];c=a.inverse();if(!c)return!1;c=c.transpose().rightMultiply(d);b[0][3]=b[1][3]=b[2][3]=0;b[3][3]=1}else c[0]=c[1]=
c[2]=0,c[3]=1;a=Array(3);a[0]=b[3][0];b[3][0]=0;a[1]=b[3][1];b[3][1]=0;a[2]=b[3][2];b[3][2]=0;d=Array(3);d[0]=Array(3);d[1]=Array(3);d[2]=Array(3);for(var g=0;g<3;g++)d[g][0]=b[g][0],d[g][1]=b[g][1],d[g][2]=b[g][2];b=Array(3);b[0]=e(d[0]);d[0]=o(d[0]);g=Array(3);g[0]=h(d[0],d[1]);d[1]=s(d[1],d[0],1,-g[0]);b[1]=e(d[1]);d[1]=o(d[1]);b[1]!==0&&(g[0]/=b[1]);g[1]=h(d[0],d[2]);d[2]=s(d[2],d[0],1,-g[1]);g[2]=h(d[1],d[2]);d[2]=s(d[2],d[1],1,-g[2]);b[2]=e(d[2]);b[2]!==0&&(d[2]=o(d[2]));b[2]!==0&&(g[1]/=b[2],
g[2]/=b[2]);var f;f=d[1];var u=d[2],l=Array(3);f.length!=3||u.length!=3?f=null:(l[0]=f[1]*u[2]-f[2]*u[1],l[1]=f[2]*u[0]-f[0]*u[2],l[2]=f[0]*u[1]-f[1]*u[0],f=l);if(h(d[0],f)<0)for(f=0;f<3;f++)b[f]*=-1,d[f][0]*=-1,d[f][1]*=-1,d[f][2]*=-1;f=Array(3);f[1]=k(-d[0][2]);v(f[1])!==0?(f[0]=r(d[1][2],d[2][2]),f[2]=r(d[0][1],d[0][0])):(f[0]=r(-d[2][0],d[1][1]),f[2]=0);return a={translation:a,rotation:f,scale:b,skew:g,perspective:c}};b.Timeline.addTweenType("transform",function(c,a,h,e){return new p("transform",
c,a,h,e)})})(jQuery,jQuery.Edge,jQuery.Edge.PropertyTween);(function(d,b,n){function p(){if(!k){var c=document.createElement("div"),c=j(c),a;c.css("background-color","rgb(100, 100, 100)");a=c.css("background-color");m=/rgb/.test(a);c.css("background-color","hsl(100, 100, 100)");a=c.css("background-color");v=/hsl/.test(a);c.css("background-color","rgba(100, 100, 100,.5)");a=c.css("background-color");q=/rgba/.test(a);c.css("background-color","hsla(100, 100, 100,.5)");a=c.css("background-color");r=/hsla/.test(a);k=!0}}function l(c,a,e,d,g){b.PropertyTween.call(this,
c,a,e,d,g);this.name="colorTween";p()}var j=d,k=!1,m=!1,v=!1,q=!1,r=!1;j.extend(l.prototype,n.prototype,{constructor:l,getValue:function(c){return j(this).css(c)},setValue:function(c,a,e){j(this).css(a,e)},parseValue:function(c){var a=b.parseColorValue(c);if(a&&a.colorFunction&&a.values){var c=a.values,a=a.colorFunction,e=/hsl/gi;if(a.match(/rgb/gi))if(this.animationColorSpace&&this.animationColorSpace=="HSL")a={r:c[0],g:c[1],b:c[2]},(a=b.rgbToHSL(a))?c.length>3?(c=c[3],c=[a.h,a.s,a.l,c]):c=[a.h,
a.s,a.l]:c=[];else if(this.animationColorSpace){if(this.animationColorSpace!="RGB")return c}else this.animationColorSpace="RGB";else if(a.match(e))if(this.animationColorSpace&&this.animationColorSpace=="RGB")a={h:c[0],s:c[1],l:c[2]},(a=b.hslToRGB(a))?c.length>3?(c=c[3],c=[a.r,a.g,a.b,c]):c=[a.r,a.g,a.b]:c=[];else if(this.animationColorSpace){if(this.animationColorSpace!="HSL")return c}else this.animationColorSpace="HSL";c.length==3&&(c[3]=1);return c}},formatValue:function(c){p();if(c){var a;if(this.animationColorSpace==
"HSL"&&r)a="hsl",c=c.length==4&&r?a+"a("+c[0]+","+c[1]+"%,"+c[2]+"%,"+c[3]+")":a+"("+c[0]+","+c[1]+"%,"+c[2]+"%)";else if(q)a="rgb",c=c.length==4&&q?a+"a("+c[0]+"%,"+c[1]+"%,"+c[2]+"%,"+c[3]+")":a+"("+c[0]+"%,"+c[1]+"%,"+c[2]+"%)";else{a=c[0];var e=c[1],d=c[2];if(this.animationColorSpace=="HSL")c=b.hslToRGB({h:c[0],g:c[1],b:c[2]}),a=c.r,e=c.g,d=c.b;a*=2.55;e*=2.55;d*=2.55;c="#"+(Math.floor(a)*65536+Math.floor(e)*256+Math.floor(d)).toString(16)}return c}}});b.ColorTween=l;b.parseColorValue=function(c){if(c){var a=
[],e,b,d=/^\s*#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])\s*$/;(b=/^\s*#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})\s*$/.exec(c))?(a=[parseInt(b[1],16)/255*100,parseInt(b[2],16)/255*100,parseInt(b[3],16)/255*100],e="rgb"):(b=d.exec(c))?(a=[parseInt(b[1]+b[1],16)/255*100,parseInt(b[2]+b[2],16)/255*100,parseInt(b[3]+b[3],16)/255*100],e="rgb"):c=="transparent"&&(a=[0,0,0,0],e="rgb");e||(e=c.match(/\w+/),j.isArray(e)?e=e[0]:e||(e=""),(b=c.match(/\([^\)]*\)/))&&b.length>0&&(b=b[0].replace(/[\(\)]/g,
"")));c=/rgb/gi;d=/hsl/gi;if(a.length===0)if(e.match(c))if((d=/^\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(b))&&d.length>=4){for(c=0;c<3;c++)a[c]=d[c+1]/255*100;d.length>4&&(d[4]||(d[4]=1),a[3]=d[4])}else{if((b=/^\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(b))&&b.length>=4){if(b.length>=5)b.length=5,b[4]||(b[4]=1);for(c=0;c<b.length-1;c++)a[c]=
b[c+1]}}else if(e.match(d)&&(b=/^\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*,\s*([0-9]{1,3}(?:\.[0-9]+)?)\s*%\s*(?:,\s*([0-9](?:\.[0-9]+)?)\s*)?$/.exec(b))&&b.length>=4){if(b.length>=5)b.length=5,b[4]||(b[4]=1);for(c=0;c<b.length-1;c++)a[c]=b[c+1]}if(a)for(c=0;c<a.length;c++)a[c]=Math.round(a[c]*1E4)/1E4;return{colorFunction:e,values:a}}};var t=1/3,w=1/6,g=2/3,f=function(c){return c<0?c+1:c>1?c-1:c},a=function(c,a,b,d){return d<w?c+b*d:d<0.5?a:d<g?c+b*(g-d):c};b.hslToRGB=function(c){if(c===
null||c.s<0||c.s>100||c.l<0||c.l>100)return null;for(;c.h>360;)c.h-=360;for(;c.h<0;)c.h=360+c.h;var h={},b=c.h/360,d=c.s/100,c=c.l/100;if(d===0)h.r=h.g=h.b=1;else{var d=c<=0.5?c*(1+d):c+d-c*d,c=2*c-d,g=f(b+t),u=f(b),b=f(b-t),j=(d-c)*6;h.r=a(c,d,j,g);h.g=a(c,d,j,u);h.b=a(c,d,j,b)}h.r=Math.min(h.r*100,100);h.g=Math.min(h.g*100,100);h.b=Math.min(h.b*100,100);h.r=Math.round(h.r*1E4)/1E4;h.g=Math.round(h.g*1E4)/1E4;h.b=Math.round(h.b*1E4)/1E4;return h};b.rgbToHSL=function(c){if(c===null||c.r<0||c.r>100||
c.g<0||c.g>100||c.b<0||c.b>100)return null;var a={h:0,s:0,l:0},b=c.r/100,d=c.g/100,c=c.b/100,g=Math.max(b,d,c),f=Math.min(b,d,c);a.l=(g+f)/2;if(g==f||a.l<=0)return a;var j=g-f;a.s=a.l<=0.5?j/(g+f):j/(2-g-f);a.h=g==c?4+(b-d)/j:g==d?2+(c-b)/j:(d-c)/j;a.h*=60;if(a.h>360)a.h-=360;else if(a.h<0)a.h=360+a.h;a.s=Math.min(a.s*100,100);a.l=Math.min(a.l*100,100);a.h=Math.round(a.h*1E4)/1E4;a.s=Math.round(a.s*1E4)/1E4;a.l=Math.round(a.l*1E4)/1E4;return a};b.colorToSupported=function(a){p();if(!q&&/rgba/.test(a)||
!m&&/rgb/.test(a)||!r&&/hsla/.test(a)||!v&&/hsl/.test(a)){var h=b.parseColorValue(a).values;if(h.length>=4&&h[3]<0.5)return"transparent";var e=h[0],d=h[1],g=h[2];if(/hsl/.test(a))a=b.hslToRGB({h:h[0],g:h[1],b:h[2]}),e=a.r,d=a.g,g=a.b;e*=2.55;d*=2.55;g*=2.55;a=Math.floor(e)*65536+Math.floor(d)*256+Math.floor(g);a="#"+a.toString(16)}return a};b.Timeline.addTweenType("color",function(a,h,b,d){return new l("color",a,h,b,d)})})(jQuery,jQuery.Edge,jQuery.Edge.PropertyTween);(function(d,b,n,p){function l(a){for(;a&&typeof a.originalEvent!=="undefined";)a=a.originalEvent;return a}function j(a){for(var h={},b,e;a;){b=d.data(a,c);for(e in b)if(b[e])h[e]=h.hasVirtualBinding=!0;a=a.parentNode}return h}function k(){s&&(clearTimeout(s),s=0);s=setTimeout(function(){E=s=0;G.length=0;S=!1;D=!0},d.vmouse.resetTimerDuration)}function m(a,h,b){var g,f;if(!(f=b&&b[a])){if(b=!b)a:{for(b=h.target;b;){if((f=d.data(b,c))&&(!a||f[a]))break a;b=b.parentNode}b=null}f=b}if(f){g=h;var b=g.type,
o,s;g=d.Event(g);g.type=a;f=g.originalEvent;o=d.event.props;if(f)for(s=o.length;s;)a=o[--s],g[a]=f[a];if(b.search(/mouse(down|up)|click/)>-1&&!g.which)g.which=1;if(b.search(/^touch/)!==-1&&(a=l(f),b=a.touches,a=a.changedTouches,b=b&&b.length?b[0]:a&&a.length?a[0]:p)){f=0;for(len=e.length;f<len;f++)a=e[f],g[a]=b[a]}d(h.target).trigger(g)}return g}function v(a){var c=d.data(a.target,h);if(!S&&(!E||E!==c))if(c=m("v"+a.type,a))c.isDefaultPrevented()&&a.preventDefault(),c.isPropagationStopped()&&a.stopPropagation(),
c.isImmediatePropagationStopped()&&a.stopImmediatePropagation()}function q(a){var c=l(a).touches,b;if(c&&c.length===1&&(b=a.target,c=j(b),c.hasVirtualBinding))E=U++,d.data(b,h,E),s&&(clearTimeout(s),s=0),x=D=!1,b=l(a).touches[0],u=b.pageX,y=b.pageY,m("vmouseover",a,c),m("vmousedown",a,c)}function r(a){D||(x||m("vmousecancel",a,j(a.target)),x=!0,k())}function t(a){if(!D){var c=l(a).touches[0],b=x,h=d.vmouse.moveDistanceThreshold;x=x||Math.abs(c.pageX-u)>h||Math.abs(c.pageY-y)>h;flags=j(a.target);x&&
!b&&m("vmousecancel",a,flags);m("vmousemove",a,flags);k()}}function w(a){if(!D){D=!0;var c=j(a.target),b;m("vmouseup",a,c);if(!x&&(b=m("vclick",a,c))&&b.isDefaultPrevented())b=l(a).changedTouches[0],G.push({touchID:E,x:b.clientX,y:b.clientY}),S=!0;m("vmouseout",a,c);x=!1;k()}}function g(a){var a=d.data(a,c),b;if(a)for(b in a)if(a[b])return!0;return!1}function f(){}function a(a){var b=a.substr(1);return{setup:function(){g(this)||d.data(this,c,{});d.data(this,c)[a]=!0;o[a]=(o[a]||0)+1;o[a]===1&&H.bind(b,
v);d(this).bind(b,f);if(T)o.touchstart=(o.touchstart||0)+1,o.touchstart===1&&H.bind("touchstart",q).bind("touchend",w).bind("touchmove",t).bind("scroll",r)},teardown:function(){--o[a];o[a]||H.unbind(b,v);T&&(--o.touchstart,o.touchstart||H.unbind("touchstart",q).unbind("touchmove",t).unbind("touchend",w).unbind("scroll",r));var h=d(this),e=d.data(this,c);e&&(e[a]=!1);h.unbind(b,f);g(this)||h.removeData(c)}}}var c="virtualMouseBindings",h="virtualTouchID",b="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),
e="clientX clientY pageX pageY screenX screenY".split(" "),o={},s=0,u=0,y=0,x=!1,G=[],S=!1,D=!1,T="addEventListener"in n,H=d(n),U=1,E=0;d.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var I=0;I<b.length;I++)d.event.special[b[I]]=a(b[I]);T&&n.addEventListener("click",function(a){var c=G.length,b=a.target,e,g,f,o,s;if(c){e=a.clientX;g=a.clientY;threshold=d.vmouse.clickDistanceThreshold;for(f=b;f;){for(o=0;o<c;o++)if(s=G[o],f===b&&Math.abs(s.x-e)<threshold&&
Math.abs(s.y-g)<threshold||d.data(f,h)===s.touchID){a.preventDefault();a.stopPropagation();return}f=f.parentNode}}},!0)})(jQuery,window,document);(function(d,b){function n(a){return b.compositionDefns[a].symbolData}function p(a){var c=b.compositionDefns[a];if(c&&!c.launched&&c.okToLaunch&&c.launchCalled&&(c.launched=!0,!window.edge_authoring_mode||window.edge_remote_authoring))window.edge_remote_authoring?(b.autoPlay=!1,comp=new b.Composition(a,{stage:"."+a},{}),BYOD.initialize()):comp=new b.Composition(a,{stage:"."+a},{}),comp.ready(function(){(!window.edge_authoring_mode||window.edge_remote_authoring)&&comp.play()})}var l=b.triggerDict={element:function(a,
c,b){a&&(c=="document"?this.$(document).bind(b,a):this.$(c).bind(b,a))},timeline:function(a,c,b){if(a&&c){var e=this.getTimelineData(c),d=e.toState,e=e.fromState,g={};g[b]=a;this._getTimeline(c,d,e).addObserver(g)}}},j=b.Symbol=function(a,c){b.Notifier.call(this);d.extend(this,b.Symbol.config);this.widgetEventPrefix="edgeSym_";this.element=null;this.options={data:null,initialState:null};this.states={};this.timelines={};this.timelineCache={};this.timelineStateMap={};this.autoPlay={};this.defaultBaseState=
"Base State";this.baseState=null;this._init(a,c)};b.symbol=j;b.Symbol.config=b.Symbol.config||{};var k=b.PropertyTween,m=k.substituteParameters;j._substituteParameters=m;var v,q=b.symbolDefns={};b.baseDataName="edgeBaseData";d.extend(j.prototype,b.Notifier.prototype,{constructor:j,_init:function(a,c){if(c&&(d.extend(this.options,c),d.isArray(c.observers)&&c.observers.length))for(var b=c.observers.length,e=0;e<b;e++)this.addObserver(c.observers[e]);if(!this.options.data)return null;this.element=a;
this.composition=this.options.composition;e=this._createEvent();this.notifyObservers("onPreSymbolInit",e);b=this._createEvent();if(e.performDefaultAction){e=d(a);e.data("edgeSymbol",this);if(!e.get(0).id)e.get(0).id=j._makeUniqueID();var g=this,f=this.options.data;this.parameterValues=this._makeDefaultParameters();d.extend(this.parameterValues,this.options.parameters);var u=this._getSymbolParams();this.setParameter("_stage",u.symbolSelector);this.setParameter("_"+e[0].id,u.symbolSelector);e.find("*").each(function(a,
c){c.id&&g.setParameter("_"+c.id,"#"+c.id)});f.content&&this._injectMarkup();f.actions&&this._addActionsFromData(f.actions);f.timelines&&this._createTimelineSetFromData(f.timelines,f.states);f.bindings&&f.bindings.length&&this._addBindingsFromData(f.bindings);if(typeof this.options.opts.autoPlay=="object")for(var k in this.options.opts.autoPlay)this.options.opts.autoPlay.hasOwnProperty(k)&&this.setAutoPlay(this.options.opts.autoPlay[k],k);k=e[0].nodeName=="BODY";f.content&&f.content.dom&&!k&&(k=e.css("position"),
k!="absolute"&&k!="relative"&&e.css("position","relative"));this.gpuAccelerate=f.gpuAccelerate;if(typeof this.gpuAccelerate=="undefined")this.gpuAccelerate=!0;this._goToInitialState();k=e[0].style.webkitTransform;if(this.gpuAccelerate&&e[0].style&&(typeof k=="undefined"||k===""||k=="none"))e[0].style.webkitTransform="translateZ(0)";this.notifyObservers("onPostSymbolInit",b);return this}else this.notifyObservers("onPostSymbolInit",b)},_createEvent:function(a){var c={Symbol:this,element:this.element,
performDefaultAction:!0};d.extend(c,a);return c},_makeDefaultParameters:function(){var a={},c=this.options.data.parameters;if(c)for(var b in c)if(c.hasOwnProperty(b))a[b]=c[b].defaultValue;d.extend(a,this._getSymbolParams());return a},_injectMarkup:function(a){var c=a,h=this._createEvent({markup:c});this.notifyObservers("onPreInjectMarkup",h);c=h.markup;a=this._createEvent({markup:c});if(h.performDefaultAction){var e,h=this.parameterValues;e=this.options.data.content;if(!c&&e)if(e.ref)c="",d(e.ref).each(function(a,
b){c+=d(b).html()});else if(e.markup)c=e.markup;else if(e.dom){var g=b.DeclareMarkup;if(g){var f=e.dom,j=e.symbolInstances,f=JSON.parse(JSON.stringify(e.dom)),j=[];e.symbolInstances&&(j=JSON.parse(JSON.stringify(e.symbolInstances)));var l=f.length;for(e=0;e<l;e++)this._reIdDOMElements(f[e],j);g.DOMNodeSeek(d(this.element).get(0),this.getSymbolTypeName());g.renderDOM(f,d(this.element).get(0),h,this.getSymbolTypeName(),j,this.composition);if(this.idLookup)for(var x in this.idLookup)this.idLookup.hasOwnProperty(x)&&
(d(x).data("originalId",this.idLookup[x]),d(x).data("symParent",this));j&&j.length>0&&this._processNestedSymbols(j);g.DOMNodeCompleted(d(this.element).get(0))}}if(c){if((x=this._getParentSymbol())&&x.options.data.actors&&x.options.data.actors.instance_parameters){g=x.options.data.actors.instance_parameters;f=g.length;for(e=0;e<f;e++)j=k.substituteParameters(g[e].selector,x._getSymbolParams()),d(j).filter(d(this.element)).length&&d.extend(h,g[e].parameters)}c=m(c,h);d(c).appendTo(this.element)}}this.notifyObservers("onPostInjectMarkup",
a)},_processNestedSymbols:function(a){if(a){this.aSymbolInstances=[];for(var c=a.length,b=0;b<c;b++){var e="#"+a[b].id;d(e).get(0)&&this.composition&&(this.composition.convertElementToSymbol(e,a[b].symbolName,{autoPlay:a[b].autoPlay}),this.aSymbolInstances.push(e))}}},_reIdDOMElements:function(a,c){if(a){var b=d(this.element).get(0).id,e=a.id;if(!e||e==="")e=j._makeUniqueID();for(var b=b+"_"+e,g=c.length,f=0;f<g;f++)if(c[f].id==a.id)c[f].id=b;this.idLookup=this.idLookup||{};this.idLookup["#"+b]=e;
this.setParameter("_"+e,"#"+b);a.oldId=a.id;a.id=b;if(a.c){e=a.c.length;for(b=0;b<e;b++)this._reIdDOMElements(a.c[b],c)}}},_getParentSymbol:function(){for(var a=d(this.element).parents(),c=a.length,b=0;b<c;b++){var e=j.get(a[b]);if(e)return e}return null},_createTimelineSetFromData:function(a,c){this.states=c;this.timelines=a;this.baseState=this.options.data.baseState;if(!this.baseState)this.baseState="Base State";return this},_addBindingFromData:function(a){var c=a[0];if(c[0]=="element"){var h=m(c[1],
this.parameterValues);h!=c[1]&&(c=b.cloneJSONObject(c),c[1]=h)}if(h=l[c[0]])(a=this._getActionCallbackFunc(c[0],c[1],a.slice(1)))&&h.apply(this,[a].concat(c.slice(1)))},_addBindingsFromData:function(a){for(var c=a.length,b=0;b<c;b++)this._addBindingFromData(a[b])},_getActionCallbackFunc:function(a,c,b){var e=this[b[0]],g=this;if(typeof e=="function")if(b.slice(1),a=="element")return function(){try{var a=Array.prototype.slice.call(arguments);a.unshift(g);return e.apply(g,a)}catch(c){}};else if(a==
"timeline")return function(b,h){try{var f;f=h&&h.methodName&&/^trig_/.test(h.methodName)?d.Event("trigger"):d.Event(a);h&&d.extend(f,h);f.timeline=b;var j=Array.prototype.slice.call(arguments);j.splice(0,0,f,c);j.unshift(g);return e.apply(g,j)}catch(k){}};return null},_addActionsFromData:function(a){d.extend(this,a)},_getSymbolParams:function(){return{symbolSelector:"#"+d(this.element).get(0).id}},_flushCache:function(){var a=this.timelines,c;for(c in a)a.hasOwnProperty(c)&&this._dirtyTimeline(c)},
_goToInitialState:function(){var a={parameters:this.parameterValues},c=this.options.data.initialState;if(!c)c=this.options.data.baseState;if(!j.useCSSAnimation)if(c)this._applyRules(this._buildStateForCache(null,c,a));else for(var b in this.timelines)if(this.timelines.hasOwnProperty(b)){a=this.getAutoPlay(b);if(typeof a=="undefined"&&(c=this.getTimelineData(b)))a=c.autoPlay;(typeof a=="undefined"||a==="true"||a===!0)&&this.seekTimeline(b,0)}},_getDefltTL:function(){return"Default Timeline"},_preNotify:function(a,
c,b){var e={};d.extend(e,b);b=this._createEvent({tlName:c,tlOptions:e});this.notifyObservers(a,b);if(b.performDefaultAction)return b.tlOptions;else e=b.tlOptions,c={Symbol:this,timelineName:c,tlOptions:e,performDefaultAction:!0},a=a.replace(/onPre/,"onPost"),this.notifyObservers(a,c)},_posToNum:function(a,c){if(typeof c==="string"){var b=this.getTimelineData(a);if(!b||!b.labels)return 0;return b.labels[c]}return c},play:function(a,c){var b=this._getDefltTL();this._stop(b,{dontNotify:!0});return this.playTimeline(b,
a,c)},playTimeline:function(a,c,b){b=this._preNotify("onPreSymbolPlay",a,b);if(typeof b!==void 0){c=this._posToNum(a,c);if(typeof a==="string"&&(this._rememberBaseStateForTimeline(a),c={parameters:this.parameterValues,startPos:c},d.extend(c,b),this.timelines)){var e=this._getTimeline(a);if(e)e.currentDirection="forward";this._play(a,c)}this.notifyObservers("onPostSymbolPlay",this._createEvent({timeline:a,tlOptions:b}));return this}},playReverse:function(a,c){this.stop(a,c);return this.playTimelineReverse(this._getDefltTL(),
a,c)},playTimelineReverse:function(a,c,b){var e=this._preNotify("onPreSymbolPlayReverse",a,b);if(typeof e!==void 0){b=b||{};j.startClock();b.externalClock=!0;var c=this._posToNum(a,c),g=this._getTimeline(a);if(typeof c==="undefined")c=g.currentPosition;if(c==0)this.stop(g.getDuration(),b),this.playTimelineReverse(a,g.getDuration(),b);else{if(typeof a==="string")c={parameters:this.parameterValues,playDirection:"reverse",startPos:c},d.extend(c,e),c.noTriggers=!0,g.currentDirection="reverse",g.play(c),
c.noTriggers=!1;this.notifyObservers("onPostSymbolPlayReverse",this._createEvent({timeline:a,tlOptions:e}));return this}}},seek:function(a,c){return this.seekTimeline(this._getDefltTL(),a,c)},seekTimeline:function(a,c,b){b=this._preNotify("onPreSymbolSeek",a,b);if(typeof b===void 0)return null;c=this._posToNum(a,c);if(typeof a==="string"){this._rememberBaseStateForTimeline(a);var e={parameters:this.parameterValues};d.extend(e,b);this.timelines&&this._seek(a,c,e)}this.notifyObservers("onPostSymbolSeek",
this._createEvent({timeline:a,tlOptions:b}));return null},stop:function(a,c){return this.stopTimeline(this._getDefltTL(),a,c)},stopTimeline:function(a,c,b){b=this._preNotify("onPreSymbolStop",a,b);if(typeof b===void 0)return null;if(typeof a==="string"){var e={parameters:this.parameterValues};d.extend(e,b);this.timelines&&(typeof c==="undefined"?this._stop(a):(typeof c==="string"&&(c=this._posToNum(a,c)),this._seek(a,c,e)))}},_stop:function(a,c){var b=this._getTimeline(a);b&&b.stop(c)},getPosition:function(){return this.getTimelinePosition(this._getDefltTL())},
getTimelinePosition:function(a){if(typeof a==="string"&&(a=this._getTimelineWithOwnStates(a)))return a.getCurrentPosition()},getDuration:function(){return this.getTimelineDuration(this._getDefltTL())},getTimelineDuration:function(a){if(typeof a==="string"&&(a=this._getTimelineWithOwnStates(a)))return a.getDuration()},isPlaying:function(){return this.isTimelinePlaying(this._getDefltTL())},isTimelinePlaying:function(a){if(typeof a==="string"){if(!this._getTimelineWithOwnStates(a).playing)return!1;return!0}},
isPlayDirectionReverse:function(){return this.isTimelinePlayDirectionReverse(this._getDefltTL())},isTimelinePlayDirectionReverse:function(a){if(typeof a==="string"){a=this._getTimelineWithOwnStates(a);if(a.currentContext){if(a.currentContext.playDirection=="reverse")return!0}else if(a.currentDirection=="reverse")return!0;return!1}},lookupSelector:function(a){if(typeof a==="string")try{return m("${_"+a+"}",this.parameterValues)}catch(c){}},getComposition:function(){return this.composition},getSymbolElementNode:function(){return d(this.element).get(0)},
getSymbolTypeName:function(){return this.options.data.typeName},setAutoPlay:function(a,c){if(!c||c.length===0)c=this._getDefltTL();this.autoPlay[c]=void 0},getAutoPlay:function(a){if(!a||a.length===0)a=this._getDefltTL();return this.autoPlay[a]},_playAuto:function(a){for(var c in this.timelines)if(this.timelines.hasOwnProperty(c)){var b=this.getAutoPlay(c);if(typeof b=="undefined"){var e=this.getTimelineData(c);if(e)b=e.autoPlay}(typeof b=="undefined"||b==="true"||b===!0)&&this.playTimeline(c,0,{firstUpdate:!0})}if(a&&
this.aSymbolInstances){c=this.aSymbolInstances.length;for(i=0;i<c;i++)(b=j.get(this.aSymbolInstances[i]))&&b._playAuto(a)}},getParameter:function(a){return this.parameterValues[a]},setParameter:function(a,c){this.parameterValues[a]=c},destroy:function(){d(this.ele).removeData("edgeSymbol");return this},_addState:function(a,c){this.states[a]=c},_addTimelineData:function(a,c){this.timelines[a]=c;if(c.fromState&&c.toState)this.timelineStateMap={}},_getTimelineFromStates:function(a,c){if(typeof this.timelineStateMap[a+
"//"+c]=="undefined"){for(var b in this.timelines)if(this.timelines.hasOwnProperty(b)){var e=this.timelines[b];this.timelineStateMap[e.fromState+"//"+e.toState]=b}typeof this.timelineStateMap[a+"//"+c]=="undefined"&&(this.timelineStateMap[a+"//"+c]=null);return this.timelineStateMap[a+"//"+c]}},_saveObservers:function(a){var c=this.timelines[a];if(c=this._getCachedTimeline(a,c.toState,c.fromState)){if(!this.timelineObservers)this.timelineObservers={};this.timelineObservers[a]=c.observers.slice(0)}},
_restoreObservers:function(a,c){if(this.timelineObservers&&this.timelineObservers[a]){var b=this.timelineObservers[a];if(b){var e,d=b.length;for(e=0;e<d;e++)c.addObserver(b[e])}}},_dirtyTimeline:function(a){this._saveObservers(a);this.timelineCache[this._makeTimelineKey(a)]=null;this.timelineStateMap={};this.toStateCache=this.fromStateCache=null},_isCacheDIrty:function(a){return this.timelineCache[this._makeTimelineKey(a)]===null},_getStateData:function(a){return this.states[a]},getTimelineData:function(a){return this.timelines[a]},
_makeTimelineKey:function(a,c,b){var e=null;if(!c||!b)e=this.getTimelineData(a);if(e){if(!c)c=e.toState;if(!b)b=e.fromState}return a+"-"+(c?c:"")+"-"+(b?b:"")},_getBaseStateData:function(){if(this.baseState)return this._getStateData(this.baseState);else for(var a in this.states)if(this.states[a].baseState)return this.baseState=a,this._getStateData(this.baseState);return this._getStateData(this.defaultBaseState)},_mergeBaseState:function(a){var c=b.cloneJSONObject(this._getBaseStateData()),d;for(d in a)a.hasOwnProperty(d)&&
(c[d]||(c[d]=[]),c[d]=c[d].concat(a[d]));return c},_getTimelineWithOwnStates:function(a){var c=this.getTimelineData(a);if(!c)return null;return this._getTimeline(a,c.toState,c.fromState)},_getCachedTimeline:function(a,c,b){return this.timelineCache[this._makeTimelineKey(a,c,b)]},_getTimeline:function(a,c,d){var e=this._makeTimelineKey(a,c,d);if(this.timelineCache[e])return this.timelineCache[e];if(!this.getTimelineData(a))return null;var g=this.getTimelineData(a).timeline;if(c||d)g=b.cloneJSONObject(g);
for(var f=g.length,j={},k={},l,m,n=0,p,q=0;q<f;q++)if(m=g[q],m.tween&&(l=m.tween[1],j[l]||(j[l]=[]),j[l].push(m),l=m.tween[0]+":"+m.tween[1]+":"+m.tween[2],k[l]||(k[l]=[]),k[l].push(m)),m.tween||m.trigger)p=m.duration||0,n=Math.max(n,m.position+p);m=function(a,c){return a.position-c.position};for(l in k)k.hasOwnProperty(l)&&k[l].sort(m);var r,t,v,w,F,A,B;if(c)for(r in c=this._mergeBaseState(this._getStateData(c)),c)if(c.hasOwnProperty(l)){q=c[r];p=j[r];t=q.length;for(A=0;A<t;A++){m=q[A];v=m[0];w=
m[1];F=m[2];var z=null,C=-1,f=p.length;for(B=0;p&&B<f;B++)if(m=p[B],l=m.tween,l[0]==v&&l[2]==w&&(C==-1||m.position+m.duration>C))z=m,C=m.position+m.duration;z&&z.tween.length>4&&z.tween[4]&&z.tween[4].copyToState&&(z.tween[3]=F)}}c={};if(d)for(r in d=this._getStateData(d),d)if(d.hasOwnProperty(r)){q=d[r];p=j[r];t=q.length;for(A=0;A<t;A++){m=q[A];v=m[0];w=m[1];F=m[2];c[v+":"+r+":"+w]=F;z=null;C=-1;if(p)f=p.length;for(B=0;p&&B<f;B++)if(m=p[B],l=m.tween,l[0]==v&&l[2]==w&&(C==-1||m.position<C))z=m,C=
m.position;if(z&&(m=z.tween.length>4&&z.tween[4]&&z.tween[4].copyFromState,z.tween.length<4||!z.tween[4]||typeof z.tween[4].fromValue=="undefined"||m))z.tween[4]||(z.tween[4]={}),z.tween[4].fromValue=F}}if(d)for(l in k)if(k.hasOwnProperty(l)&&k[l][0].position>0&&(d=c[l],d!==void 0))m=b.cloneJSONObject(k[l][0]),m.tween[3]=m.tween[4].fromValue=d,d=m.position,m.position=0,m.duration=d,g.push(m);k=this.getTimelineData(a);typeof k.duration==="number"&&n<k.duration&&(m={id:"rest",tween:["style","${_stage}",
"-edge_resting","100%",{fromValue:"0%"}],position:n,duration:k.duration-n},g.push(m));g=this._createTimelineFromData(g);this._restoreObservers(a,g);return this.timelineCache[e]=g},_createTimelineFromData:function(a){for(var c=b.Timeline.createTimeline(),d=a.length,e=0;e<d;e++){var g=a[e],f=null;g.timeline?f=j.prototype._createTimelineFromData(g.timeline):g.tween?f=b.Timeline.createTween.apply(null,g.tween):g.trigger&&(f=g.trigger.slice(0,2),f.push(this),f=b.Timeline.createTrigger.apply(null,f));f&&
c.add(f,g.position,g.duration,g.easing)}return c},_buildStateForCache:function(a,c){var b={};if(c){var e=this.states[c];if(e){var g={},f,j,l;if(a){var n=this.getTimelineData(a).timeline,p=n.length;for(f=0;f<p;f++)l=n[f],l.tween&&(j=m(l.tween[1],this.parameterValues),j=l.tween[0]+":"+j+":"+l.tween[2],g[j]||(g[j]=[]),g[j].push(l))}for(var q in e)if(q!=="prototype"){g=e[q];for(f=0;f<g.length;f++)if(n=g[f],j=m(q,this.parameterValues),n[0]=="style"||n[0]=="transform"||n[0]=="color"){b[j]||(b[j]=[]);l=
n[2];if(n[3]&&n[3].valueTemplate)if(p=k.prototype.parseTemplate.call(null,n[3].valueTemplate)){var r=p.length,t=[],v=n[2];d.isArray(v)||(v=[v]);for(var w=0;w<r;w++)l=p[w],l.isPlaceholder?t.push(v[l.value]):t.push(l.value);l=t.join("")}else l=n[2].join("");b[j].push({decl:n,value:l})}}return b}}},_ensureState:function(a,c,b){var d=c+"Cache";this[d]||(this[d]={});var g=null;this[d][a]?g=this[d][a]:(c=this.getTimelineData(a)[c],g=this._buildStateForCache(a,c,b),!this._isParameterizedActorTL(a)&&!this._isParameterizedActorState(c)&&
(this[d][a]=g));this._applyRules(g,b)},_applyRules:function(a){var c=this,h,e=function(){var a=d(this),e={},g=b.TransformTween.prototype.buildDefaultTransformData.call(null,this);d.extend(e,g,h);d.data(this,b.TransformTween.dataName,e);b.TransformTween.applyTransform(a,e,void 0,{dontForceZ:!c.gpuAccelerate});(e=d.data(this,"ui_visibility"))&&a.css("visibility",e)},g;for(g in a)if(a.hasOwnProperty(g)){var f=a[g],j=f.length;h=null;for(var l=0;l<j;l++){var k=f[l].decl,m=k[1];if(k[0]=="transform")h||
(h={}),h[m]=f[l].value;else{var k=f[l].decl,n=f[l].value;k[0]=="color"&&(n=b.colorToSupported(n));d(g).css(m,n)}}h&&b.TransformTween&&d(g).each(e)}},_ensureFromState:function(a,c){this._ensureState(a,"fromState",c)},_ensureToState:function(a,c){this._ensureState(a,"toState",c)},_isParameterizedActorTL:function(a){for(var a=this.getTimelineData(a).timeline,c=a.length,b=0;b<c;b++){var d=a[b];if(d.tween&&typeof d.tween[1]=="string"&&d.tween[1].search(/\$\{/)!=-1)return!0}return!1},_isParameterizedActorState:function(a){if(!a)return!1;
a=this.states[a];if(!a)return!1;for(var c in a)if(c.search(/\$\{/)!=-1)return!0;return!1},_isReverse:function(a){return typeof a=="object"&&typeof a.playDirection=="string"&&a.playDirection=="reverse"},_play:function(a,c){j.startClock();c.externalClock=!0;c.dontForceZ=!this.gpuAccelerate;var b=this.getTimelineData(a);if(b){var e=b.toState;if(a&&(b=this._getTimeline(a,e,b.fromState))){if(e&&!this._isReverse(c)){if(!this.tlPlayHandler){var g=this;this.tlPlayHandler={};this.tlPlayHandler.onComplete=
function(){g._ensureToState(this.timelineName,this.opts);this.tl.removeObserver(g.tlPlayHandler)}}d.extend(this.tlPlayHandler,{tl:b,timelineName:a,opts:c});b.addObserver(this.tlPlayHandler)}b.play(c)}}},_seek:function(a,c,b){var d=this._isCacheDIrty(a),g=this.getTimelineData(a);if(g){var f=g.toState,g=g.fromState;b||(b={});!d&&b.skipFromState?b.assumeStateUnchanged=!0:(this._ensureFromState(a,b),b.assumeStateUnchanged=!1);d=0;if(a&&(f=this._getTimeline(a,f,g)))d=f.getDuration(),f.seek(c,b);c>=d&&
this._ensureToState(a,b)}},_rememberBaseStateForTimeline:function(a){if(a&&(a=this.getTimelineData(a)))for(var a=a.timeline,c=a.length,b=0;b<c;b++){var d=a[b];d.tween&&this._rememberBaseState(m(d.tween[1],this.parameterValues))}},_executeSymbolAction:function(a,c){if(!(typeof c!="object"||c.length<3)){var d=c[0],e=b.Symbol.get(this.$(c[1]));if(e&&d){var g=c[2];if(!g||typeof g!="object")g=null;e[d].apply(e,g)}}},_rememberBaseState:function(a){d(a).each(function(){d(this);var a=d.data(this,"edgeBaseData");
if(!a)a={},d.data(this,"edgeBaseData",a),a.transformData=b.TransformTween.prototype.buildTransformData.call(null,this)})},compute:function(a,c,b,d,g){var f;if(a){var j=this.getTimelineData(a);(a=this._getTimeline(a,j.toState,j.fromState))&&(f=a.compute(c,b,d,g))}return f},findNext:function(a,c,b,d,g,f,j){if(a){var l=this.getTimelineData(a),d=d.toString();if(a=this._getTimeline(a,l.toState,l.fromState)){var k,l=a.getDuration()+10,d=parseFloat(d.replace(/[a-zA-Z%]+$/,"")),m=f+10;k=a.compute(c,b,f,j);
for(var n=k[g],n=parseFloat(n.replace(/[a-zA-Z%]+$/,"")),m=f;m<=l;m+=10)if((k=a.compute(c,b,m,j))&&k.length){f=k[g];f=parseFloat(f.replace(/[a-zA-Z%]+$/,""));if(d>=Math.min(n,f)&&d<=Math.max(n,f))return m;n=f}}}return-1},deleteSymbol:function(a){var a=a||{},c;this.composition&&(c=this.composition.getSymbols());if(c){var b=this._createEvent({});this.notifyObservers("onPreRemove",b);if(b.performDefaultAction){var e;if(this.aSymbolInstances){var g=this.aSymbolInstances.length;for(e=0;e<g;e++)this.composition.removeSymbol(this.aSymbolInstances[e],
a)}e=this.element;d(e).removeData("edgeSymbol");a._keepElement?d(e).empty():d(e).remove();for(e=c.length;e>=0;e--)c[e]==this&&c.splice(e,1);this.element=null;this.notifyObservers("onPostRemove",b)}}},getSymbol:function(a){a=this.$(a);return j.get(a)},getChildSymbols:function(){var a=[];if(this.aSymbolInstances)for(var c=0;c<this.aSymbolInstances.length;c++){var b=this.getSymbol(this.aSymbolInstances[c]);b&&a.push(b)}return a},$:function(a){var c=a;typeof a==="string"&&(a.search(/\$\{/)==-1?(c=this.lookupSelector(a),
typeof c=="undefined"&&(c=a)):c=m(a,this.parameterValues));return d(c)}});j.get=function(a){return d(a).data("edgeSymbol")};j.getDefaultEasing=function(){return b.TimelineObject.defaultEasing};j.startClock=function(){if(!j.timerFunc){var a=1E3/b.Timeline.config.fps;j.timerFunc=function(){b.Timeline.tick();setTimeout(j.timerFunc,a)};setTimeout(j.timerFunc,a)}};var r=function(a,c,d,e,g,f,l){var k=b.getCompositionSymbolDefns(a)[c];if(k){if(!k.actions)k.actions={};l=j._makeUniqueID();k.actions[l]=g;if(!k.bindings)k.bindings=
[];d=[[f,d,e],l];k.bindings.push(d);if(null!=b.compositions&&(a=b.compositions[a],null!=a&&(a=a.getSymbols(),null!=a))){k=a.length;for(f=0;f<k;f++){var e=a[f],m=e.getSymbolTypeName();c==m&&(m={},m[l]=g,e._addActionsFromData(m),e._addBindingFromData(d))}}}else b.logError("$.Edge.Symbol."+l+": symbol not found")};j.bindElementAction=function(a,c,b,d,g){r(a,c,b,d,g,"element","bindElementAction")};j.bindTimelineAction=function(a,c,b,d,g){r(a,c,b,d,g,"timeline","bindTimelineAction")};j.bindTriggerAction=
function(a,c,d,e,g){var f=b.getCompositionSymbolDefns(a)[c];if(f)if(f=f.timelines[d].timeline){var j="trig_"+b.Symbol._makeUniqueID();f.push({trigger:[j,d],position:e,duration:0,id:j});r(a,c,d,j,g,"timeline","bindTriggerAction")}else b.logError("$.Edge.Symbol.bindTriggerAction: timeline not found");else b.logError("$.Edge.Symbol.bindTriggerAction: symbol not found")};var t=(new Date).getTime(),w=function(){for(var a="eid_"+t++;d("#"+a).length>0;)a="eid_"+t++;return a};j._makeUniqueID=w;b.registerFonts=
function(a){if(a){var c,g,e,f;if(!b.fonts)b.fonts={};for(fontName in a)if(!b.fonts[fontName]&&(e=a[fontName])&&e!=""){c=!1;for(sExistingFont in b.fonts)b.fonts[sExistingFont]==e&&(c=!0);if(!c)if(b.fonts[fontName]=e,c=e.indexOf("http://use.typekit.com/"),c>0){if(g=e.indexOf('"',c+1),g>0)sTKURL=e.substring(c,g),e=document.createElement("script"),e.src=sTKURL,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),f=function(){try{Typekit.load()}catch(a){setTimeout(f,100)}},
setTimeout(f,100)}else d("head").append(e)}}};b.compositions=b.compositions||{};b.compositionDefns=b.compositionDefns||{};b.compositionFonts=b.compositionFonts||{};b.compositionReadyHandler=b.compositionReadyHandler||{};b.registerCompositionDefn=function(a,c,d){if(a&&a.length>0&&!b.compositionDefns[a])for(symbolName in b.compositionDefns[a]={symbolData:c,readyToLaunch:!1},b.compositionFonts[a]=d,b.registerFonts(d),c)c[symbolName].typeName=symbolName};b.getCompositionSymbolDefns=n;b.getComposition=
function(a){if(a)return b.compositions[a]};b.registerCompositionReadyHandler=function(a,c,d){d=d||{};if((!window.edge_authoring_mode||d._tool||window.edge_remote_authoring)&&a&&c)b.compositions[a]?b.compositions.ready(c):(b.compositionReadyHandler[a]=b.compositionReadyHandler[a]||[],b.compositionReadyHandler[a].push(c))};var g=b.Composition=function(a,c,g){g=g||{};if(!window.edge_authoring_mode||g._tool||window.edge_remote_authoring){b.Notifier.call(this);d.extend(this,b.Composition.config);d.extend(this,
g);var e,j=!1;e=0;var l,k=this,g=b.compositionReadyHandler[a];this.symbolDefns=n(a);this.compId=a;e=this._createEvent();this.notifyObservers("onPreCompInit",e);var m=this._createEvent();if(e.performDefaultAction){this.symbolInstances=[];this.imageRequestCount=0;this.imageRequestList=[];this.readyList=[];this.readyCalled=!1;this.$loadCalled=window.AdobeEdge.loaded;b.compositions[a]=this;this.compReadyCalled=!1;f(q);for(l in c)if(e=d(c[l]),e.size()>0){j=!0;break}j||(j=d("body"),d(j).addClass(a));for(l in c)e=
d(c[l]),e.each(function(){k.convertElementToSymbol(this,l)});window.AdobeEdge.loaded?k.imageRequestCount<=0&&k.callReadyList():d(window).load(function(){k.$loadCalled=!0;k.imageRequestCount<=0&&k.callReadyList()});if(g)for(e=0;e<g.length;e++)this.ready(g[e])}this.notifyObservers("onPostCompInit",m)}};b.Composition.config=b.Composition.config||{};d.extend(g.prototype,b.Notifier.prototype,{play:function(a){if(!window.edge_authoring_mode||a)if(typeof b.autoPlay=="undefined"||b.autoPlay)for(var a=this.symbolInstances.length,
c=0;c<a;c++)this.symbolInstances[c]._playAuto()},getSymbols:function(){return this.symbolInstances},ready:function(a){this.readyCalled?a.call():this.readyList&&this.readyList.push(a)},getCompId:function(){return this.compId},requestImage:function(a){function c(){b.imageRequestCount--;b.imageRequestCount<=0&&b.$loadCalled&&setTimeout(function(){b.callReadyList()},0)}this.imageRequestCount++;var b=this,e=new Image;this.imageRequestList.push(e);d(e).load(c);d(e).error(c);e.src=a;return null},restoreDisplay:function(a){var c=
this;d(a).children().each(function(a,b){b.style.display=d(b).data("dispOrig");c.restoreDisplay(b)})},instanceReady:function(a){(a=d(a.element))&&this.restoreDisplay(a)},callReadyList:function(){this.imageRequestList=[];this.readyCalled=!0;for(var a=0;a<this.symbolInstances.length;a++)this.instanceReady(this.symbolInstances[a]);if(!this.compReadyCalled)this.compReadyCalled=!0,a=d.Event("compositionReady"),a.compId=this.getCompId(),d(document).trigger(a);for(;this.readyList.length>0;)this.readyList.shift().call();
a=d.Event("loaded");a.compId=this.getCompId();d(document).trigger(a)},getStage:function(){return j.get(d("."+this.getCompId()))},createSymbolChild:function(a,c,b){if(a&&c&&this.symbolInstances&&this.symbolDefns[a]){var e=[],g=this;d(c).each(function(){var c=d(this),f=document.createElement("div");(b||b===0)&&c.children().eq(b).get(0)?(c=c.children(),b<0?c.eq(b).after(f):c.eq(b).before(f)):c.append(f);if(f=g.convertElementToSymbol(f,a,{}))g.instanceReady(f),e.push(f)});if(this.readyCalled)for(c=0;c<
e.length;c++)e[c]._playAuto(!0);return e}},convertElementToSymbol:function(a,c,b){if(a&&d(a)&&this.symbolInstances&&this.symbolDefns[c])return b=b||{},b.regenerateID=b.regenerateID||!0,a=new j(d(a),{data:this.symbolDefns[c],composition:this,opts:b}),this.symbolInstances.push(a),a},getSymbolDefnSymbols:function(a){var c=[];if(!this.symbolInstances)return c;if(this.symbolDefns.hasOwnProperty(a))for(var b=this.symbolInstances.length,d=0;d<b;d++)this.symbolInstances[d].getSymbolTypeName()===a&&c.push(this.symbolInstances[d]);
return c},removeSymbol:function(a,c){if(this.symbolInstances){var b=j.get(a);b&&b.deleteSymbol(c)}},_createEvent:function(a){var c={composition:this,compId:this.compId,performDefaultAction:!0};d.extend(c,a);return c}});b.launchComposition=function(a){var c=b.compositionDefns[a];if(c)c.launchCalled=!0,p(a)};b.okToLaunchComposition=function(a){var c=b.compositionDefns[a];if(c)c.okToLaunch=!0,p(a)};var f;b.initialize=function(a,c,g){if(!window.edge_authoring_mode||g||window.edge_remote_authoring){if(typeof v==
"undefined")v=b.symbolInstances=[];d.extend(q,a);f(q);var a=v,e;for(e in q)if(q.hasOwnProperty(e)){q[e].typeName=e;var g=[],g=".symbol_"+e,g=c?d(c).find("*").andSelf().filter(g):d(g),l=g.size(),k;for(k=0;g&&k<l;k++){var m=new j(d(g.get(k)),{data:q[e]});v.push(m);if(e=="stage")b.stage=m}}if(a.length===0||!b.stage)b.stage=new j(d("body"),{data:q.stage}),v.push(b.stage);window.runtimeReady&&window.runtimeReady()}};f=function(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c].timelines)for(var b in a[c].timelines)if(a[c].timelines.hasOwnProperty(b))for(var d=
a[c].timelines[b].timeline,g=d.length,f=0;f<g;f++){var j=d[f];if(!j.id)j.id=w()}};b.play=function(a){if(!window.edge_authoring_mode||a)if(typeof b.autoPlay=="undefined"||b.autoPlay)for(var a=this.symbolInstances.length,c=0;c<a;c++){var d=v[c],e=d.options.data.autoPlay;typeof e=="string"&&e!="true"?d.play(e):(typeof e=="undefined"||e===!0||e=="true")&&d.play("Default Timeline")}};b.logDebug=function(){};b.logInfo=function(){};b.logWarn=function(){};b.logError=function(){};b.logFatal=function(){};d.extend(b.TimelineObject.prototype,
{compute:function(a,c,b,e){if(!this.dDuration){var g=this.duration,f=null;this.animation&&this.animation.getDuration&&(f=this.animation.getDuration());this.dScale=g!=-1&&g!==0?f/g:1;this.dDuration=g!=-1?g:f}g=this.dDuration;g=g===0?1:g;b>=g&&(b=g);b<=0&&(b=0);if(this.animation)return g=d.easing[this.easing](b/g,b,0,1,g),this.animation.compute(a,c,b*this.dScale,g,e)}});d.extend(b.Timeline.prototype,{compute:function(a,c,b,e){for(var g=this.objects,f=g.length,j=[],k={obj:null,end:0},l={obj:null,start:this.getDuration()},
m=0;m<f;m++){var n=g[m];if(!n.animation.isTrigger&&c==n.animation.property&&a==n.animation.elements)if(b>=n.position&&b<=n.position+n.duration){if(n=n.compute(a,c,b-n.position,e))d.isArray(n)||(n=[n]),j=n}else if(b<n.position){if(n.position<=l.start)l.start=n.position,l.obj=n}else if(b>n.position+n.duration&&n.position+n.duration>=k.end)k.end=n.position,k.obj=n}if(!j||d.isArray(j)&&j.length===0)if(k.obj&&k.obj.animation.toValue)j=k.obj.animation.toValue;else if(l.obj&&l.obj.animation.fromValue)j=
l.obj.animation.fromValue;d.isArray(j)||(j=[j]);return j}});d.extend(k.prototype,{compute:function(a,c,b,d){b=this.property;if(a!=this.elements||c!=b)return null;for(var a=this.fromValues,c=this.toValues,b=this.filter,g=a.length,f=[],j=0;j<g;j++){var k=a[j],l=c[j];k+=(l.value-k)*d;b&&b[j]&&(k=b[j](k));f.push(k+l.unit)}return f}});d.extend(b.TransformTween.prototype,{compute:k.prototype.compute})})(jQuery,jQuery.Edge);(function(d,b){if(typeof b.DeclareMarkup=="undefined"){var n=function(){function p(g,f,a,c,h,e){var j=document.createElement(g);j.id=f;j.style.position="absolute";$eleNew=d(j);$eleNew.data("domDef",a);$eleNew.addClass(f+"_id");if(a.display)j.style.display=a.display;if(!window.edge_authoring_mode)$eleNew.data("dispOrig",j.style.display),j.style.display="none";if(a.className)j.className=a.className;$eleNew.css("left",a.rect[0]+"px");$eleNew.css("top",a.rect[1]+"px");a.rect[2]>0&&$eleNew.css("width",
a.rect[2]+"px");a.rect[3]>0&&$eleNew.css("height",a.rect[3]+"px");a.overflow&&($eleNew.css("overflow",a.overflow),(a.overflow=="hidden"||a.overflow=="scroll")&&$eleNew.css("text-overflow","clip"));a.cl&&(a.cl.length==1?$eleNew.css("clip",a.cl[0]):$eleNew.css("clip","rect("+a.cl[0]+"px "+a.cl[1]+"px"+a.cl[2]+"px "+a.cl[3]+")"));a.br&&(a.br.length==1?$eleNew.css("border-radius",a.br[0]+"px"):($eleNew.css("border-top-left-radius",a.br[0]),$eleNew.css("border-top-right-radius",a.br[1]),$eleNew.css("border-bottom-right-radius",
a.br[2]),$eleNew.css("border-bottom-left-radius",a.br[3])));if(a.tf){for(var f=[],k=[[3,0],[3,0],[2,0],[3,1],[2,"50%"]],l=0;l<k.length;l++){f[l]=[];a.tf[l]||(a.tf[l]=[]);for(var m=0;m<k[l][0];m++)a.tf[l][m]||(a.tf[l][m]=k[l][1]),f[l][m]=a.tf[l][m]}k=typeof f[4][0]=="string"?f[4][0]+" "+f[4][1]:f[4][0]+"px "+f[4][1]+"px";$eleNew.css("-webkit-transform-origin",k);$eleNew.css("-moz-transform-origin",k);$eleNew.css("-ms-transform-origin",k);$eleNew.css("-o-transform-origin",k);"webkitAppearance"in document.documentElement.style?
(k="",k+=f[0][2]!=0?"translate3d("+f[0][0]+"px,"+f[0][1]+"px,"+f[0][2]+"px)":"translate("+f[0][0]+"px,"+f[0][1]+"px)",f[1][1]!=0||f[1][2]!=0?(k+=" rotateZ("+f[1][0]+"deg)",k+=" rotateX("+f[1][0]+"deg)",k+=" rotateY("+f[1][0]+"deg)"):k+=" rotate("+f[1][0]+"deg)",k+=" skew("+f[2][0]+"deg,"+f[2][1]+"deg)",k+=f[3][2]!=1?" scale3d("+f[3][0]+","+f[3][1]+","+f[3][2]+")":" scale("+f[3][0]+","+f[3][1]+")",d(j).css("-webkit-transform",k)):(k="translate("+f[0][0]+"px,"+f[0][1]+"px) rotate("+f[1][0]+"deg)  skewX("+
f[2][0]+"deg) skewY("+f[2][1]+"deg) scale("+f[3][0]+","+a.tf[3][1]+")",$eleNew.css("-moz-transform",k),$eleNew.css("-ms-transform",k),$eleNew.css("-o-transform",k))}a.opacity&&$eleNew.css("opacity",a.opacity);a.stroke&&((f=a.stroke[0])||(f=0),(k=a.stroke[1])?typeof k=="string"&&(k=[k]):k=["rgba(0,0,0,0)"],(l=a.stroke[2])||(l="none"),$eleNew.css("border",""+f+"px "+l+" "+b.colorToSupported(k[0])));if(a.fill&&(f=a.fill[0],typeof f=="string"&&(f=[f]),(k=a.fill[1])||(k="solid"),k=="solid"&&f&&$eleNew.css("background-color",
b.colorToSupported(f[0])),a.fill[1]))if(f=a.fill[1],typeof f=="string"?f=[f]:typeof f=="object"&&((k=f[window.EdgeScreenProfile.name])||(k=f["default"]),f=k),a.tag&&a.tag=="img"){if(f[0])j.src=f[0]}else{if(f[0]){$eleNew.css("background-image","url("+f[0]+")");if(f[1]||f[2])f[1]||(f[1]="0px"),f[2]||(f[2]="0px"),$eleNew.css("background-position",f[1]+" "+f[2]);e.requestImage(f[0])}f[3]||$eleNew.css("background-repeat","no-repeat");f[4]&&f[4]!="scroll"&&$eleNew.css("background-attachment",f[4])}a.source&&
(j.setAttribute("src",a.source),g=="video"&&j.setAttribute("controls","controls"),g=="audio"&&j.setAttribute("autoplay","autoplay"));$eleNew.css("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)");if(c){if(!c.appendChild)return j;c.firstChild&&h>=0&&c.children&&h<c.children.length?c.insertBefore(j,c.children[h]):c.appendChild(j)}return j}function l(g,f,a,c,h,e,j){var o;r(f,c);var k=null;a&&a.nodeName&&a.nodeName.toLowerCase()=="canvas"&&(o=k=n.stageLookup[a.id],a=o);var l=null,k="div";if(f.tag)k=f.tag;
switch(f.t){case "def":break;case "rect":case "elipse":case "group":l=p(k,g,f,a,h,e,j);break;case "image":l=p(k,g,f,a,h,e,j);break;case "video":l=p("video",g,f,a,h,e,j);break;case "audio":l=p("audio",g,f,a,h,e,j);break;case "text":l=p(k,g,f,a,h,e,j);a=d(l);f.font&&(f.font[0]&&f.font[0]!==""&&a.css("font-family",f.font[0]),typeof f.font[1]!="object"&&(f.font[1]=[f.font[1]]),f.font[1][1]||(f.font[1][1]="px"),f.font[1][0]&&f.font[1][0]!==""&&a.css("font-size",f.font[1][0]+f.font[1][1]),f.font[2]&&f.font[2]!==
""&&a.css("color",b.colorToSupported(f.font[2])),f.font[3]&&f.font[3]!==""&&a.css("font-weight",f.font[3]),f.font[4]&&f.font[4]!==""&&a.css("text-decoration",f.font[4]),f.font[5]&&f.font[5]!==""&&a.css("font-style",f.font[5]));f.align&&a.css("text-align",f.align);if(f.position)l.style.position=f.position;(!f.rect[2]||f.rect[2]<=0)&&(!f.rect[3]||f.rect[3]<=0)&&a.css("white-space","nowrap");l.appendChild(document.createTextNode(f.text));break;case "canvas":l=p("canvas",g,f,a,h,e,j);k={def:f,params:c,
stage:new t(l),children:{}};k.obj=k.stage;k.obj.width=f.rect[2];k.obj.height=f.rect[3];n.stageLookup[g]=k;break;case "line":break;case "shape":if(!a)break;l={def:f,params:c,obj:new w,stage:a.stage,children:{}};l.obj.x=f.rect[0];l.obj.y=f.rect[1];l.obj.width=f.rect[2];l.obj.height=f.rect[3];a.children[f.id]=l;a.obj.addChild(l.obj);break;default:alert("unhandled type == "+f.t)}return l}function j(b,d,a,c,h,e,k){if(a=l(b,d,c,h,e||0,k)){n.nodeSymbolInstanceLookup[b]?n.DOMNodeStarted(a,c,d,n.nodeSymbolInstanceLookup[b].symbolName,
n.nodeSymbolInstanceLookup[b].autoPlay):n.DOMNodeStarted(a,c,d);if(d.c)for(b=0;b<d.c.length;b++)c=d.c[b],j(c.id,c,d,a,h,b,k);n.DOMNodeCompleted(a)}return a}function k(b,f){var a=b,c;if(b.base){if(typeof b.base=="string")b.base=[b.base];if(b.base.length>0){a={};for(c=0;c<b.base.length;c++){var h=n.nodeLookup[b.base[c]];h&&d.extend(!0,a,h)}d.extend(!0,a,b)}}a.base=null;for(c=0;a.c&&c<a.c.length;c++)a.c[c]=k(a.c[c],f);return a}function m(b,d){if(b)if(r(b,d),!b.id||b.id==="")alert("elements without ids are not yet supported");
else{n.nodeLookup[b.id]=b;for(var a=0;b.children&&a<b.children.length;a++)m(b.children[a])}}function v(b,d){if(!b)return d;if(typeof d=="string"){var a=d.search(/\$\{/);if(a>=0){var c=d.search(/\}/);if(c>a)return a=d.slice(a+2,c),b[a]}}return d}function q(b,d){var a=b.obj.graphics,c=b.params;a.clear();var h="rgba(0,0,0,0)";b.def.fill&&typeof b.def.fill=="object"&&(h=b.def.fill[0]);a.beginFill(h).drawRect(0,0,v(c,b.def.rect[2]),v(c,b.def.rect[3]));for(var e in b.children)b.children.hasOwnProperty(e)&&
q(d.children[e])}var r,t,w;r=function(b,d){if(b.type)b.t=b.type;if(b.t)b.t=b.t.toLowerCase();b.type=b.t;b.children?b.c=b.children:b.children=b.c;b.rect?b.r=b.rect:b.rect=b.r;if(!b.rect)b.rect=[];for(;b.rect.length<4;)b.rect[b.rect.length]=0;b.borderRadius?b.br=b.borderRadius:b.borderRadius=b.br;b.clip?b.cl=b.clip:b.clip=b.cl;b.shape?b.sh=b.shape:b.shape=b.sh;b.transform?b.tf=b.transform:b.transform=b.tf;if(b.tf){for(;b.tf.length<5;)b.tf[b.tf.length]=0;for(;b.transform.length<8;)b.tf[b.tf.length]=
1}b.opacity?b.o=b.opacity:b.opacity=b.o;if(b.stroke)b.s=b.stroke;b.stroke=b.s;if(b.fill)b.f=b.fill;if(b.f&&d){var a=d[b.f];if(a)b.f=a}b.fill=b.f};return{stageLookup:{},nodeLookup:{},nodeSymbolInstanceLookup:{},DOMNodeSeek:function(){},DOMNodeReset:function(){},DOMNodeStarted:function(){},DOMNodeCompleted:function(){},renderDOM:function(b,d,a,c,h,e){window.EdgeScreenProfile={name:"detected",dim:[screen.width,screen.height]};n.nodeLookup={};for(c=0;c<b.length;c++)m(b[c],a);for(c=0;c<b.length;c++)b[c]&&
(b[c]=k(b[c],a));n.nodeSymbolInstanceLookup={};if(h)for(c=0;c<h.length;c++)n.nodeSymbolInstanceLookup[h[c].id]=h[c];for(c=0;c<b.length;c++)b[c]&&(h=b[c],(h=j(h.id,h,null,null,a,0,e))&&d.appendChild(h))},buildSceneGraphNode:j,drawSceneGraph:function(){for(var b in n.stageLookup)if(n.stageLookup.hasOwnProperty(b)){var d=n.stageLookup[b],a;for(a in d.children)d.children.hasOwnProperty(a)&&q(d.children[a],d);d.stage.update()}},createElement:l}}();b.DeclareMarkup=n}})(jQuery,jQuery.Edge);
